{"version":3,"file":"static/js/231.001cfdb7.chunk.js","mappings":"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","sources":["Pages/User/CreateUser.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\n\r\nimport { Formik, Form, Field, ErrorMessage } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport Select from \"react-select\";\r\n\r\nimport TextError from \"../../Component/TextError/TextError\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { createUser } from \"../../Redux/User/thunk\";\r\nimport { errorFunction } from \"../../Component/Alert\";\r\nimport {\r\n  checkRedundantDataUser,\r\n  checkRedundantDataID,\r\n} from \"../../utils/redundant/user\";\r\n\r\nimport { BsFillEyeFill, BsFillEyeSlashFill } from \"react-icons/bs\";\r\nimport \"./user.css\";\r\nimport { genders } from \"../../Component/Data/Data\";\r\nimport Button from \"../../Component/Button/Button\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { AsyncPaginate } from \"react-select-async-paginate\";\r\nimport axiosInstance from \"../../utils/axios\";\r\nconst CreateUser = ({ currentPage, loading }) => {\r\n  // props\r\n  const history = useHistory();\r\n  const user = useSelector((state) => state.user.user);\r\n  const edit = useSelector((state) => state.user.edit);\r\n  const [genderValue, setGenderValue] = useState(null);\r\n  const dispatch = useDispatch();\r\n  //state for disabling the submit button\r\n  const [password, setPassword] = useState(\"password\");\r\n  const [confirmPassword, setConfirmPassword] = useState(\"password\");\r\n  const [lock, setLock] = useState(false);\r\n  const [data, setData] = useState(null);\r\n  //initial state of the form\r\n  const groupOptions = [\r\n    { id: 1, name: \"ADMIN\" },\r\n    { id: 2, name: \"STAFF\" },\r\n    { id: 3, name: \"MAINTAINER\" },\r\n  ];\r\n  const initialState = {\r\n    first_name: data !== null ? data.first_name : edit ? user?.first_name : \"\",\r\n    middle_name:\r\n      data !== null ? data.middle_name : edit ? user?.middle_name : \"\",\r\n    last_name: data !== null ? data.last_name : edit ? user?.last_name : \"\",\r\n    user_branch:\r\n      data !== null ? data.user_branch : edit ? user?.user_branch : \"\",\r\n    group:\r\n      data !== null\r\n        ? data.group\r\n        : edit\r\n        ? groupOptions.find((temp) => temp.id === edit?.group)\r\n        : \"\",\r\n    email: data !== null ? data.email : edit ? user?.email : \"\",\r\n    employee_id:\r\n      data !== null ? data.employee_id : edit ? user?.employee_id : \"\",\r\n    username: data !== null ? data.username : edit ? user?.username : \"\",\r\n    gender: data !== null ? data.gender : edit ? user?.gender : \"\",\r\n    password: data !== null ? data.password : edit ? user?.password : \"\",\r\n    confirm_password:\r\n      data !== null\r\n        ? data.confirm_password\r\n        : edit\r\n        ? user?.confirm_password\r\n        : \"\",\r\n    is_active: data !== null ? data.is_active : edit ? user?.is_active : true,\r\n  };\r\n  //validation rules of the form\r\n  const validationSchema = Yup.object().shape({\r\n    first_name: Yup.string()\r\n      .min(2, \"First name must be at least 2 characters.\")\r\n      .max(50, \"First name should be 50 characters.\")\r\n      .matches(\r\n        /(?=.*^[A-Za-z]\\w).*$/,\r\n        \"First name should only contain alphabet.\"\r\n      ),\r\n    middle_name: Yup.string()\r\n      .min(2, \"Middle name must be at least 2 characters.\")\r\n      .max(50, \"Middle name should be 50 characters.\")\r\n      .matches(\r\n        /(?=.*^[A-Za-z]\\w).*$/,\r\n        \"Middle name should only contain alphabet.\"\r\n      ),\r\n\r\n    last_name: Yup.string()\r\n      .min(2, \"Last name must be at least 2 characters.\")\r\n      .max(50, \"Last name should be 50 characters.\")\r\n      .matches(\r\n        /(?=.*^[A-Za-z]\\w).*$/,\r\n        \"Last name should only contain alphabet.\"\r\n      ),\r\n    email: Yup.string().email().required(\"Email is required.\"),\r\n    username: Yup.string()\r\n      .required(\"Username is required.\")\r\n      .min(4, \"Username must be at least 4 characters.\")\r\n      .max(50, \"Username should be 50 characters.\")\r\n      .matches(\r\n        /(?=.*^[A-Za-z_]\\w).*$/,\r\n        \"Username should begin with _ or alphabet.\"\r\n      ),\r\n    password: Yup.string()\r\n      .required(\"Please Enter your password\")\r\n      .min(6, \"Password must be at least 6 characters.\")\r\n      .matches(\r\n        /^(?=.*[a-z])(?=.*\\d)[A-Za-z\\d@$!%*#?&]{6,}$/,\r\n        \"Must Contain 6 Characters, One alphabet and One Number \"\r\n      ),\r\n    confirm_password: Yup.string()\r\n      .required(\"Password is required.\")\r\n      .oneOf([Yup.ref(\"password\"), null], \"Passwords must match.\"),\r\n\r\n    user_branch: Yup.object()\r\n      .typeError(\"Branch is required\")\r\n      .required(\"Branch is required\"),\r\n    group: Yup.object()\r\n      .typeError(\"Group is required\")\r\n      .required(\"Group is required\"),\r\n    employee_id: Yup.string(),\r\n    is_active: Yup.bool(),\r\n    gender: Yup.object().nullable(true),\r\n  });\r\n\r\n  const onSubmit = (values) => {\r\n    const {\r\n      first_name,\r\n      middle_name,\r\n      last_name,\r\n      email,\r\n      username,\r\n      is_active,\r\n      employee_id,\r\n      user_branch,\r\n      gender,\r\n      group,\r\n      password,\r\n      confirm_password,\r\n    } = values;\r\n    const capitalFirstName =\r\n      first_name?.charAt(0).toUpperCase() + first_name?.slice(1);\r\n    const capitalMiddleName =\r\n      middle_name?.charAt(0).toUpperCase() + middle_name?.slice(1);\r\n    const capitalLastName =\r\n      last_name?.charAt(0).toUpperCase() + last_name?.slice(1);\r\n    const smallUserName = username?.toLowerCase();\r\n    setLock(true);\r\n    dispatch(\r\n      createUser(\r\n        {\r\n          first_name: capitalFirstName,\r\n          middle_name: capitalMiddleName,\r\n          last_name: capitalLastName,\r\n          email,\r\n          username: smallUserName,\r\n          gender,\r\n          employee_id,\r\n          user_branch: user_branch?.id,\r\n          group: group?.id,\r\n          is_active,\r\n          password,\r\n          confirm_password,\r\n          history,\r\n        },\r\n        currentPage\r\n      )\r\n    );\r\n    setLock(false);\r\n    setData(null);\r\n  };\r\n\r\n  // function which checks whether the bank is added already or not\r\n  const handleChange = async (e) => {\r\n    if (edit && e.target.value !== user?.username) {\r\n      if (e.target.value.trim() && e.target.value !== \"\") {\r\n        const result = await checkRedundantDataUser(e);\r\n        result\r\n          ? errorFunction(\"User name with this  is already added. \") ||\r\n            setLock(true)\r\n          : setLock(false);\r\n      }\r\n    }\r\n    if (e.target.value.trim() && e.target.value !== \"\") {\r\n      const result = await checkRedundantDataUser(e);\r\n      result\r\n        ? errorFunction(\"User with this name is already added \") ||\r\n          setLock(true)\r\n        : setLock(false);\r\n    }\r\n  };\r\n\r\n  // toggle password\r\n  const handlePasswordClick = () => {\r\n    if (password === \"password\") {\r\n      setPassword(\"text\");\r\n    } else {\r\n      setPassword(\"password\");\r\n    }\r\n  };\r\n  // toggle password\r\n  const handleConfirmClick = () => {\r\n    if (confirmPassword === \"password\") {\r\n      setConfirmPassword(\"text\");\r\n    } else {\r\n      setConfirmPassword(\"password\");\r\n    }\r\n  };\r\n  const loadOptions = async (search, loadOptions, { limit, offset }) => {\r\n    const { data } = await axiosInstance(\r\n      `/api/v1/core-app/branch?search=${search}&offset=${offset}&limit=${limit}`\r\n    );\r\n\r\n    return {\r\n      options: data.results,\r\n      hasMore: data.count > limit ? true : false,\r\n      additional: {\r\n        offset: limit,\r\n        limit: limit + 10,\r\n      },\r\n    };\r\n  };\r\n\r\n  const handleChangeID = async (e) => {\r\n    if (edit && e.target.value !== user?.employee_id) {\r\n      if (e.target.value.trim() && e.target.value !== \"\") {\r\n        const result = await checkRedundantDataID(e);\r\n        if (result) {\r\n          errorFunction(\"User name with this Employee ID is already added. \");\r\n          setLock(true);\r\n        } else {\r\n          setLock(false);\r\n        }\r\n      }\r\n    }\r\n    if (!edit && e.target.value.trim() && e.target.value !== \"\") {\r\n      const result = await checkRedundantDataID(e);\r\n      if (result) {\r\n        errorFunction(\"User name with this Employee ID is already added. \");\r\n        setLock(true);\r\n      } else {\r\n        setLock(false);\r\n      }\r\n    }\r\n  };\r\n  return (\r\n    <>\r\n      <div className=\"row justify-content-center mt-3\">\r\n        <div className=\"col-12\">\r\n          <div className=\"registration-process \">\r\n            <Formik\r\n              enableReinitialize={true}\r\n              initialValues={initialState}\r\n              validationSchema={validationSchema}\r\n              onSubmit={onSubmit}\r\n            >\r\n              {(formik) => {\r\n                return (\r\n                  <Form autoComplete=\"off\">\r\n                    <div className=\"form-group row mb-2 justify-content-center\">\r\n                      <div className=\" col-4\">\r\n                        <label\r\n                          htmlFor=\"first_name\"\r\n                          className=\"fw-bold float-start\"\r\n                        >\r\n                          First Name\r\n                        </label>\r\n                        <Field\r\n                          type=\"text\"\r\n                          name=\"first_name\"\r\n                          className=\"form-control \"\r\n                          placeholder=\"First Name\"\r\n                        />\r\n                        <ErrorMessage name=\"first_name\" component={TextError} />\r\n                      </div>\r\n                      <div className=\" col-4\">\r\n                        <label\r\n                          htmlFor=\"middle_name\"\r\n                          className=\"fw-bold float-start\"\r\n                        >\r\n                          Middle Name\r\n                        </label>\r\n                        <Field\r\n                          type=\"text\"\r\n                          name=\"middle_name\"\r\n                          className=\"form-control \"\r\n                          placeholder=\"Middle Name\"\r\n                        />\r\n                        <ErrorMessage\r\n                          name=\"middle_name\"\r\n                          component={TextError}\r\n                        />\r\n                      </div>\r\n                      <div className=\" col-4\">\r\n                        <label\r\n                          htmlFor=\"last_name\"\r\n                          className=\"fw-bold float-start\"\r\n                        >\r\n                          Last Name\r\n                        </label>\r\n                        <Field\r\n                          type=\"text\"\r\n                          name=\"last_name\"\r\n                          className=\"form-control \"\r\n                          placeholder=\"Last Name\"\r\n                        />\r\n                        <ErrorMessage name=\"last_name\" component={TextError} />\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"form-group row mb-2 justify-content-center\">\r\n                      <div className=\"col-3\">\r\n                        <label\r\n                          htmlFor=\"username\"\r\n                          className=\"fw-bold float-start\"\r\n                        >\r\n                          User Name (Case Insensitive)\r\n                          <strong className=\"text-danger ml-1\">*</strong>\r\n                        </label>\r\n\r\n                        <Field\r\n                          type=\"text\"\r\n                          name=\"username\"\r\n                          className=\"form-control \"\r\n                          placeholder=\"Username\"\r\n                          onChange={(e) => {\r\n                            const val = (e.target.value || \"\").replace(\r\n                              /\\s+/gi,\r\n                              \"\"\r\n                            );\r\n                            formik.setFieldValue(\"username\", val.trim());\r\n                            handleChange(e);\r\n                          }}\r\n                          autoFocus\r\n                        />\r\n                        <ErrorMessage name=\"username\" component={TextError} />\r\n                      </div>\r\n                      <div className=\" col-3\">\r\n                        <label htmlFor=\"email\" className=\"fw-bold float-start\">\r\n                          Email\r\n                          <strong className=\"text-danger ml-1\">*</strong>\r\n                        </label>\r\n                        <Field\r\n                          type=\"email\"\r\n                          name=\"email\"\r\n                          className=\"form-control \"\r\n                          placeholder=\"Email\"\r\n                        />\r\n                        <ErrorMessage name=\"email\" component={TextError} />\r\n                      </div>\r\n                      <div className=\" col-3\">\r\n                        <label\r\n                          htmlFor=\"employee_id\"\r\n                          className=\"fw-bold float-start\"\r\n                        >\r\n                          Employee ID\r\n                          <strong className=\"text-danger ml-1\">*</strong>\r\n                        </label>\r\n                        <Field\r\n                          type=\"text\"\r\n                          name=\"employee_id\"\r\n                          value={formik.values.employee_id}\r\n                          className=\"form-control \"\r\n                          placeholder=\"Employee ID\"\r\n                          onChange={(e) => {\r\n                            handleChangeID(e);\r\n                            formik.setFieldValue(\"employee_id\", e.target.value);\r\n                          }}\r\n                        />\r\n                      </div>\r\n                      <div className=\"col-3 \">\r\n                        <label htmlFor=\"user_branch\" className=\"fw-bold \">\r\n                          Branch\r\n                          <strong className=\"text-danger ml-1\">*</strong>\r\n                        </label>\r\n                        <div style={{ display: \"flex\" }}>\r\n                          <div className=\"col-12\">\r\n                            <AsyncPaginate\r\n                              value={formik.values.user_branch}\r\n                              isClearable=\"true\"\r\n                              isSearchable=\"true\"\r\n                              name=\"user_branch\"\r\n                              getOptionLabel={(option) => `${option?.name} `}\r\n                              getOptionValue={(option) => `${option?.id}`}\r\n                              onChange={(selected) => {\r\n                                formik.setFieldValue(\"user_branch\", selected);\r\n                              }}\r\n                              loadOptions={loadOptions}\r\n                              additional={{\r\n                                offset: 0,\r\n                                limit: 10,\r\n                              }}\r\n                            />\r\n                          </div>\r\n                        </div>\r\n                        <div>\r\n                          <ErrorMessage\r\n                            name=\"user_branch\"\r\n                            component={TextError}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"form-group row mb-2 justify-content-center\">\r\n                      <div className=\"col-3 password-field\">\r\n                        <label\r\n                          htmlFor=\"password\"\r\n                          className=\"fw-bold float-start\"\r\n                        >\r\n                          Password\r\n                          <strong className=\"text-danger ml-1\">*</strong>\r\n                        </label>\r\n                        <div style={{ position: \"relative\" }}>\r\n                          <Field\r\n                            type={password}\r\n                            name=\"password\"\r\n                            className=\"form-control\"\r\n                            placeholder=\"Password\"\r\n                          />\r\n\r\n                          <span onClick={handlePasswordClick}>\r\n                            {password === \"password\" ? (\r\n                              <BsFillEyeSlashFill />\r\n                            ) : (\r\n                              <BsFillEyeFill />\r\n                            )}\r\n                          </span>\r\n                        </div>\r\n                        <ErrorMessage name=\"password\" component={TextError} />\r\n                      </div>\r\n                      <div className=\"col-3 password-field\">\r\n                        <label\r\n                          htmlFor=\"confirm_password\"\r\n                          className=\"fw-bold float-start\"\r\n                        >\r\n                          Confirm Password\r\n                          <strong className=\"text-danger ml-1\">*</strong>\r\n                        </label>\r\n                        <div style={{ position: \"relative\" }}>\r\n                          <Field\r\n                            type={confirmPassword}\r\n                            name=\"confirm_password\"\r\n                            className=\"form-control\"\r\n                            placeholder=\"Confirm Password\"\r\n                          />\r\n                          <span onClick={handleConfirmClick}>\r\n                            {confirmPassword === \"password\" ? (\r\n                              <BsFillEyeSlashFill />\r\n                            ) : (\r\n                              <BsFillEyeFill />\r\n                            )}\r\n                          </span>\r\n                        </div>\r\n                        <ErrorMessage\r\n                          name=\"confirm_password\"\r\n                          component={TextError}\r\n                        />\r\n                      </div>\r\n                      <div className=\"col-3 \">\r\n                        <label htmlFor=\"group\" className=\"fw-bold \">\r\n                          Group\r\n                          <strong className=\"text-danger ml-1\">*</strong>\r\n                        </label>\r\n                        <div style={{ display: \"flex\" }}>\r\n                          <div className=\"col-12\">\r\n                            <Select\r\n                              value={formik.values.group}\r\n                              isClearable=\"true\"\r\n                              isSearchable=\"true\"\r\n                              name=\"group\"\r\n                              getOptionLabel={(option) => `${option?.name} `}\r\n                              getOptionValue={(option) => `${option?.id}`}\r\n                              onChange={(selected) => {\r\n                                formik.setFieldValue(\"group\", selected);\r\n                              }}\r\n                              options={groupOptions}\r\n                            />\r\n                          </div>\r\n                        </div>\r\n                        <div>\r\n                          <ErrorMessage name=\"group\" component={TextError} />\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-3\">\r\n                        <label htmlFor=\"gender\" className=\"fw-bold \">\r\n                          Gender\r\n                        </label>\r\n\r\n                        <Select\r\n                          value={genderValue}\r\n                          isClearable=\"true\"\r\n                          isSearchable=\"true\"\r\n                          name=\"gender\"\r\n                          getOptionLabel={(option) => `${option?.name} `}\r\n                          getOptionValue={(option) => `${option?.id}`}\r\n                          options={genders}\r\n                          onChange={(selected) => {\r\n                            formik.setFieldValue(\"gender\", selected?.id);\r\n                            setGenderValue(selected);\r\n                          }}\r\n                        />\r\n                        <ErrorMessage name=\"gender\" component={TextError} />\r\n                      </div>\r\n                    </div>\r\n                    {/* <div className=\"form-group row mb-2\">\r\n                      <div className=\" col-4 \">\r\n                        <label htmlFor=\"photo\" className=\"fw-bold float-start\">\r\n                          Photo\r\n                        </label>\r\n                        <input\r\n                          type=\"file\"\r\n                          name=\"photo\"\r\n                          className=\"form-control\"\r\n                          onChange={(event) => {\r\n                            formik.setFieldValue(\r\n                              \"photo\",\r\n                              event.target.files[0]\r\n                            );\r\n                            let reader = new FileReader();\r\n                            reader.readAsDataURL(event.target.files[0]);\r\n                            reader.onloadend = () => setImg([reader.result]);\r\n                          }}\r\n                        />\r\n\r\n                        {img && <Thumb thumb={img} />}\r\n                        {user && user.photo && !img && (\r\n                          <Thumb\r\n                            thumb={user.photo}\r\n                            handleDelete={handleDelete}\r\n                          />\r\n                        )}\r\n                        <ErrorMessage name=\"photo\" component={TextError} />\r\n                      </div>\r\n                    </div> */}\r\n                    <div className=\"form-group row mb-2\">\r\n                      <div className=\"col-12 text-center\">\r\n                        <Field\r\n                          type=\"checkbox\"\r\n                          name=\"is_active\"\r\n                          id=\"is_active\"\r\n                          className=\"filled-in chk-col-blue\"\r\n                        />\r\n                        <label htmlFor=\"is_active\" className=\"fw-bold  mx-2\">\r\n                          {\" \"}\r\n                          Active\r\n                        </label>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"form-group text-center\">\r\n                      <Button\r\n                        type={\"btn\"}\r\n                        className={\"btn btn-primary\"}\r\n                        loading={loading}\r\n                        disabled={lock || !formik.dirty}\r\n                        title={\"Create\"}\r\n                        content={\"Add\"}\r\n                      />\r\n                    </div>\r\n                  </Form>\r\n                );\r\n              }}\r\n            </Formik>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\nexport default React.memo(CreateUser);\r\n"],"names":["CreateUser","currentPage","loading","history","useHistory","user","useSelector","state","edit","useState","genderValue","setGenderValue","dispatch","useDispatch","password","setPassword","confirmPassword","setConfirmPassword","lock","setLock","data","setData","groupOptions","id","name","initialState","first_name","middle_name","last_name","user_branch","group","find","temp","email","employee_id","username","gender","confirm_password","is_active","validationSchema","Yup","shape","min","max","matches","required","oneOf","typeError","nullable","handleChange","e","target","value","trim","checkRedundantDataUser","errorFunction","handlePasswordClick","handleConfirmClick","loadOptions","search","limit","offset","axiosInstance","options","results","hasMore","count","additional","handleChangeID","checkRedundantDataID","className","enableReinitialize","initialValues","onSubmit","values","capitalFirstName","charAt","toUpperCase","slice","capitalMiddleName","capitalLastName","smallUserName","toLowerCase","createUser","formik","autoComplete","htmlFor","type","placeholder","component","TextError","onChange","val","replace","setFieldValue","autoFocus","style","display","isClearable","isSearchable","getOptionLabel","option","getOptionValue","selected","position","onClick","genders","disabled","dirty","title","content","React"],"sourceRoot":""}