{"version":3,"file":"static/js/986.b5301fff.chunk.js","mappings":"+LAgIA,UA3H4B,SAAC,GAAkB,IAAhBA,EAAe,EAAfA,SACrBC,EAAuCD,EAAvCC,gBAAiBC,EAAsBF,EAAtBE,kBACnBC,GAASC,EAAAA,EAAAA,KAAY,SAACC,GAAD,OAAWA,EAAMC,YAAYH,UAClDI,GAAWH,EAAAA,EAAAA,KAAY,SAACC,GAAD,OAAWA,EAAMG,KAAKD,YA6EnD,OA3EAE,EAAAA,EAAAA,YAAU,WACR,IAAU,OAANN,QAAM,IAANA,OAAA,EAAAA,EAAQO,QAAS,EAAG,CACtB,IAIMC,EAAM,IAAIC,EAAAA,QAFI,YAFP,KACA,MAQPC,EAAW,8BAAyB,IAAIC,MAAOC,eACnD,UAEIC,EAAS,sBAAkBT,EAAlB,KAETU,EAAM,UAAMf,EAAN,eAA8BD,GACpCiB,EAAQC,SAASC,eAAe,SAChCC,EAAgB,6BACtBC,GAAAA,CAAUX,EAAK,CACbY,MAAO,OACPC,KAAMN,EACNO,OAAQ,CAAEC,UAAW,CAAC,EAAG,EAAG,IAC5BC,aAAc,CACZ,EAAG,CAAEC,OAAQ,WAEfC,WAAY,CACVC,UAAW,CAAC,IAAK,IAAK,MAExBC,YAAa,SAAUC,GAErBrB,EAAIsB,YAAY,IAChBtB,EAAIuB,KAxBM,oBAwBM,IAAK,IACrBvB,EAAIuB,KAxBoB,qBAwBM,IAAK,IACnCvB,EAAIuB,KAxBO,oBAwBM,IAAK,IAAID,YAAY,IACtCtB,EAAIuB,KAAKrB,EAAa,IAAK,KAC3BF,EAAIuB,KAAKlB,EAAW,IAAK,KACzBL,EAAIuB,KAtBU,cAsBM,GAAI,KACxBvB,EAAIuB,KAAKjB,EAAQ,GAAI,KAErB,IAAIkB,EAAM,QAAUxB,EAAIyB,SAASC,mBAEA,oBAAtB1B,EAAI2B,gBACbH,EAAMA,EAAM,OAASd,GAEvBV,EAAIsB,YAAY,IAEhB,IAAMM,EAAW5B,EAAIyB,SAASG,SACxBC,EAAaD,EAASE,OACxBF,EAASE,OACTF,EAASG,YACb/B,EAAIuB,KAAKC,EAAKH,EAAKW,SAASC,OAAOC,KAAML,EAAa,KAExDM,aAAc,SAAUd,GAEE,SAAtBA,EAAKe,KAAKC,SACa,IAAtBhB,EAAKiB,OAAOC,OACW,IAAtBlB,EAAKiB,OAAOC,OACU,IAAtBlB,EAAKiB,OAAOC,QAEdvC,EAAIwC,QAAQ,SAAU,UACtBxC,EAAIsB,YAAY,MAGpBW,OAAQ,CAAEQ,IAAK,OAGgB,oBAAtBzC,EAAI2B,eACb3B,EAAI2B,cAAcjB,GAGpBV,EAAI0C,KAAJ,4BAA8BpC,OAE/B,CAACd,KAGF,0BACE,mBAAOmD,GAAG,QAAQC,MAAO,CAAEC,QAAS,QAApC,WACE,4BACE,2BACE,+BACA,qCACA,kCACA,qCACA,2CACA,yCAGJ,2BACGrD,EAAOsD,KAAI,SAACC,EAAQC,GACnB,IACEL,EAQEI,EARFJ,GACAM,EAOEF,EAPFE,QACAC,EAMEH,EANFG,WACAC,EAKEJ,EALFI,YACAC,EAIEL,EAJFK,UACAC,EAGEN,EAHFM,QACAC,EAEEP,EAFFO,UACAC,EACER,EADFQ,OAGF,OACE,2BACE,wBAAKP,EAAI,KACT,wBAAKC,KACL,wBAAKC,EAAa,IAAMC,EAAc,IAAMC,KAC5C,wBAAKC,KACL,wBAAKC,KACL,+BAAKC,QAAL,IAAKA,OAAL,EAAKA,EAAQC,SANNb","sources":["Component/ReportModal/PrintPDFReportModal.js"],"sourcesContent":["import React, { useEffect } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport jsPDF from \"jspdf\";\r\nimport autoTable from \"jspdf-autotable\";\r\nimport \"../../assets/font\";\r\nconst PrintPDFReportModal = ({ formData }) => {\r\n  const { formatedEndDate, formatedStartDate } = formData;\r\n  const prints = useSelector((state) => state.printReport.prints);\r\n  const username = useSelector((state) => state.auth.username);\r\n\r\n  useEffect(() => {\r\n    if (prints?.length > 0) {\r\n      const unit = \"pt\";\r\n      const size = \"A4\"; // Use A1, A2, A3 or A4\r\n      const orientation = \"landscape\";\r\n      // Object.keys(response[0]).length < 7 ? \"portrait\" : \"landscape\"; // portrait or landscape\r\n      const doc = new jsPDF(orientation, unit, size);\r\n\r\n      const title = \"MEGA BANK LIMITED\";\r\n      const organizationAddress = \"Kamladi, Kathmandu\";\r\n      const report = \"Card Print Report\";\r\n      const currentDate = `Printed Date/Time: ${new Date().toLocaleString(\r\n        \"ja-JP\"\r\n      )}`;\r\n      const printedBy = `Printed By: ${username} `;\r\n      const dateRange = \"Date Range:\";\r\n      const adDate = `${formatedStartDate} to ${formatedEndDate}`;\r\n      const table = document.getElementById(\"table\");\r\n      const totalPagesExp = \"{total_pages_count_string}\";\r\n      autoTable(doc, {\r\n        theme: \"grid\",\r\n        html: table,\r\n        styles: { textColor: [0, 0, 0] },\r\n        columnStyles: {\r\n          0: { halign: \"center\" },\r\n        },\r\n        headStyles: {\r\n          fillColor: [255, 255, 255],\r\n        },\r\n        didDrawPage: function (data) {\r\n          // header\r\n          doc.setFontSize(15);\r\n          doc.text(title, 320, 42);\r\n          doc.text(organizationAddress, 324, 58);\r\n          doc.text(report, 330, 74).setFontSize(10);\r\n          doc.text(currentDate, 550, 100);\r\n          doc.text(printedBy, 550, 110);\r\n          doc.text(dateRange, 40, 100);\r\n          doc.text(adDate, 40, 120);\r\n          // footer\r\n          let str = \"Page \" + doc.internal.getNumberOfPages();\r\n          // Total page number plugin only available in jspdf v1.0+\r\n          if (typeof doc.putTotalPages === \"function\") {\r\n            str = str + \" of \" + totalPagesExp;\r\n          }\r\n          doc.setFontSize(10);\r\n          // jsPDF 1.4+ uses getWidth, <1.4 uses .width\r\n          const pageSize = doc.internal.pageSize;\r\n          const pageHeight = pageSize.height\r\n            ? pageSize.height\r\n            : pageSize.getHeight();\r\n          doc.text(str, data.settings.margin.left, pageHeight - 10);\r\n        },\r\n        willDrawCell: function (data) {\r\n          if (\r\n            data.cell.section === \"body\" &&\r\n            (data.column.index === 2 ||\r\n              data.column.index === 3 ||\r\n              data.column.index === 4)\r\n          ) {\r\n            doc.setFont(\"Preeti\", \"normal\");\r\n            doc.setFontSize(12);\r\n          }\r\n        },\r\n        margin: { top: 130 },\r\n      });\r\n      // Total page number plugin only available in jspdf v1.0+\r\n      if (typeof doc.putTotalPages === \"function\") {\r\n        doc.putTotalPages(totalPagesExp);\r\n      }\r\n      // doc.autoPrint();\r\n      doc.save(`Card Print Report-${adDate}`);\r\n    }\r\n  }, [prints]);\r\n\r\n  return (\r\n    <div>\r\n      <table id=\"table\" style={{ display: \"none\" }}>\r\n        <thead>\r\n          <tr>\r\n            <th>#</th>\r\n            <th>Card No</th>\r\n            <th>Name</th>\r\n            <th>Address</th>\r\n            <th>Mobile Number</th>\r\n            <th>Branch</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {prints.map((detail, i) => {\r\n            const {\r\n              id,\r\n              card_no,\r\n              first_name,\r\n              middle_name,\r\n              last_name,\r\n              address,\r\n              mobile_no,\r\n              branch,\r\n            } = detail;\r\n\r\n            return (\r\n              <tr key={id}>\r\n                <td>{i + 1}</td>\r\n                <td>{card_no}</td>\r\n                <td>{first_name + \" \" + middle_name + \" \" + last_name}</td>\r\n                <td>{address}</td>\r\n                <td>{mobile_no}</td>\r\n                <td>{branch?.name}</td>\r\n              </tr>\r\n            );\r\n          })}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PrintPDFReportModal;\r\n"],"names":["formData","formatedEndDate","formatedStartDate","prints","useSelector","state","printReport","username","auth","useEffect","length","doc","jsPDF","currentDate","Date","toLocaleString","printedBy","adDate","table","document","getElementById","totalPagesExp","autoTable","theme","html","styles","textColor","columnStyles","halign","headStyles","fillColor","didDrawPage","data","setFontSize","text","str","internal","getNumberOfPages","putTotalPages","pageSize","pageHeight","height","getHeight","settings","margin","left","willDrawCell","cell","section","column","index","setFont","top","save","id","style","display","map","detail","i","card_no","first_name","middle_name","last_name","address","mobile_no","branch","name"],"sourceRoot":""}