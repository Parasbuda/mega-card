"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[403],{81829:function(e,n,t){t(72791);var r=t(56355),s=t(98158),a=t(80184);n.Z=function(e){var n=e.search,t=e.onClick,i=e.addPermission;return(0,a.jsxs)("div",{className:"text-center justify-content-center no-data",children:[(0,a.jsx)("h4",{className:"fw-normal mb-3",children:"No data to Display"}),!n&&i&&(0,a.jsxs)("h6",{children:["Please"," ",(0,a.jsx)(s.Z,{content:"Add",children:(0,a.jsxs)("button",{onClick:t,className:"btn btn-primary waves-effect waves-light btn-sm mx-2 p-1 nodata-btn",children:[(0,a.jsx)(r.wEH,{className:"nodata-icon"}),"\xa0Add"]})})," ","some..."]})]})}},90883:function(e,n,t){t.d(n,{Z:function(){return o}});var r=t(72791),s=t(80184),a=function(e){var n=e.offset,t=e.limit,a=e.count;return(0,s.jsx)(r.Fragment,{children:(0,s.jsxs)("p",{children:["Showing ",n," to"," ",t>a||0===t?a:t," of ",a," entries"]})})},i=r.memo(a),c=function(e){var n=e.postsPerPage,t=e.totalPosts,r=e.paginate,a=e.handleClick,i=e.currentPage,c=e.maxPageNumberLimit,u=e.minPageNumberLimit,o=[];if(n>0)for(var l=1;l<=Math.ceil(t/n);l++)o.push(l);o.length;return u>=1&&(0,s.jsx)("button",{className:"page-link",onClick:function(){return a("previous")},children:"\u2026"}),(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("ul",{className:"pagination pagination-sm justify-content-end",children:[(0,s.jsx)("li",{className:"page-item ",children:(0,s.jsx)("button",{className:"page-link",onClick:function(){return a("previous")},disabled:i===o[0],children:"\xab"})}),o.map((function(e,n){return e<c+1&&e>u?(0,s.jsx)("li",{className:"page-item",children:(0,s.jsx)("button",{onClick:function(){return r(e)},className:"page-link ".concat(n+1===i?"active":null),children:e})},e):null})),(0,s.jsx)("li",{className:"page-item",children:(0,s.jsx)("button",{className:"page-link",onClick:function(){return a("next")},disabled:i===o[o.length-1],children:"\xbb"})})]})})},u=r.memo(c),o=function(e){var n=e.currentPage,t=e.postsPerPage,r=e.count,a=e.paginate,c=e.handleClick,o=e.setCurrentPage,l=e.minPageNumberLimit,d=e.maxPageNumberLimit;return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"row",children:[(0,s.jsx)("div",{className:"col-6",children:(0,s.jsx)(i,{offset:1+(n-1)*t,limit:t*n,count:r})}),t<r&&(0,s.jsx)("div",{className:"col-6 text-right",children:(0,s.jsx)(u,{postsPerPage:t,totalPosts:r,paginate:a,handleClick:c,currentPage:n,setCurrentPage:o,minPageNumberLimit:l,maxPageNumberLimit:d})})]})})}},537:function(e,n,t){var r=t(72791),s=t(80184),a=function(e){var n=e.postsPerPage,t=e.setPostsPerPage;return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("p",{className:"fw-normal p-0 m-0",children:["Show",(0,s.jsxs)("span",{className:"ml-1 mr-1",children:[" ",(0,s.jsxs)("select",{value:n,onChange:function(e){var n=Number(e.target.value);t(n)},children:[(0,s.jsx)("option",{value:"10",children:"10"}),(0,s.jsx)("option",{value:"20",children:"20"}),(0,s.jsx)("option",{value:"40",children:"40"}),(0,s.jsx)("option",{value:"99999999",children:"All"})]})]})," ","entries"]})})};n.Z=r.memo(a)},12721:function(e,n,t){t(72791);var r=t(84341),s=t(80184);n.Z=function(){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"row ",children:[(0,s.jsx)("div",{className:"col-6 d-flex ",children:(0,s.jsx)(r.ZP,{width:200,height:25})}),(0,s.jsx)("div",{className:"col-6 d-flex justify-content-end",children:(0,s.jsx)(r.ZP,{width:80,height:30})})]}),(0,s.jsxs)("div",{className:"mt-2",children:[(0,s.jsx)(r.ZP,{height:40}),(0,s.jsx)(r.ZP,{count:10,height:25})]}),(0,s.jsxs)("div",{className:"row d-flex mt-2",children:[(0,s.jsx)("div",{className:"col-6",children:(0,s.jsx)(r.ZP,{width:220,height:20})}),(0,s.jsx)("div",{className:"col-6 d-flex justify-content-end",children:(0,s.jsx)(r.ZP,{width:200,height:30})})]})]})}},93969:function(e,n,t){t(72791);var r=t(56355),s=t(39126),a=t(80184);n.Z=function(e){var n=e.active;return(0,a.jsx)("div",{children:n?(0,a.jsx)(r.FJM,{style:{color:"green",fontSize:"15px"}}):(0,a.jsx)(s.HJl,{style:{color:"rgba(230, 16, 16, 0.979)",fontSize:"15px"}})})}},98158:function(e,n,t){t(72791);var r=t(36652),s=t(80184);n.Z=function(e){var n=e.content,t=e.children;return(0,s.jsx)(r.ZP,{content:n,children:t})}},7403:function(e,n,t){t.r(n),t.d(n,{default:function(){return b}});var r=t(23430),s=t(72791),a=t(16030),i=t(12721),c=t(91653),u=t(56355),o=t(93969),l=t(98158),d=t(88038),m=t(90883),h=t(81829),f=t(79271),p=t(80184),x=function(e){var n=e.currentPage,t=e.postsPerPage,i=e.setCurrentPage,x=e.count,v=(e.setShowModal,e.maxPageNumberLimit),j=e.setMaxPageNumberLimit,g=e.minPageNumberLimit,P=e.setMinPageNumberLimit,N=e.search,b=(0,f.k6)(),Z=(0,a.v9)((function(e){return e.auth.permissions})),y=(0,a.v9)((function(e){return e.auth.is_superuser})),_=(0,a.v9)((function(e){return e.user.users})),w=(0,a.v9)((function(e){return e.user.next})),k=(0,a.v9)((function(e){return e.user.previous})),S=(0,a.I0)(),C=(0,s.useState)(5),A=(0,r.Z)(C,1)[0],E=!!(null!==Z&&void 0!==Z&&Z.includes("add_user")||y);return(0,p.jsx)(p.Fragment,{children:(null===_||void 0===_?void 0:_.length)>0?(0,p.jsxs)("div",{className:"mt-2",children:[(0,p.jsx)("div",{className:"table-scrollable",children:(0,p.jsxs)("table",{className:"table table-hover table-bordered text-center",children:[(0,p.jsx)("thead",{children:(0,p.jsxs)("tr",{children:[(0,p.jsx)("th",{scope:"col",style:{width:"8%"},children:"S.N"}),(0,p.jsx)("th",{scope:"col",children:"User Name"}),(0,p.jsx)("th",{scope:"col",children:"Email"}),(0,p.jsx)("th",{scope:"col",children:"Branch"}),(0,p.jsx)("th",{scope:"col",children:"Employee ID"}),(0,p.jsx)("th",{scope:"col",children:"Group"}),(0,p.jsx)("th",{scope:"col",children:"Status"}),(0,p.jsx)("th",{scope:"col",children:"Action"})]})}),(0,p.jsx)("tbody",{children:(null===_||void 0===_?void 0:_.length)>0&&_.map((function(e,r){var s=e.id,a=e.username,i=e.email,c=e.user_branch,m=e.employee_id,h=e.is_active,f=e.group;return(0,p.jsxs)("tr",{children:[(0,p.jsx)("th",{scope:"row",style:{width:"8%"},children:t*(n-1)+(r+1)}),(0,p.jsx)("td",{children:a}),(0,p.jsx)("td",{children:i}),(0,p.jsx)("td",{children:null===c||void 0===c?void 0:c.name}),(0,p.jsx)("td",{children:m}),(0,p.jsx)("td",{children:(0,p.jsx)("span",{className:"badge badge-success",children:1===f?"ADMIN":2===f?"STAFF":"MAINTAINER"})}),(0,p.jsx)("td",{children:(0,p.jsx)(o.Z,{active:h})}),(0,p.jsx)("td",{children:(0,p.jsx)(l.Z,{content:"Edit",children:(0,p.jsx)("button",{className:"btn btn-sm btn-edit btn-primary mx-1",onClick:function(){return function(e,n){S({type:d.A.USER_EDIT_SUCCESS,payload:e,postsPerPage:n}),b.push("/edit-user")}(s)},children:(0,p.jsx)(u.fmQ,{})})})})]},s)}))})]})}),x>0&&(0,p.jsx)(m.Z,{currentPage:n,postsPerPage:t,count:x,paginate:function(e){S((0,c.Rv)({number:e,postsPerPage:t})),i(e)},handleClick:function(e){"previous"===e?(S((0,c.TI)(k)),i((function(e){return e-1})),(n-1)%A===0&&(j(v-A),P(g-A))):"next"===e&&(S((0,c.hj)(w)),i((function(e){return e+1})),n+1>v&&(j(v+A),P(g+A)))},setCurrentPage:i,minPageNumberLimit:g,maxPageNumberLimit:v})]}):(0,p.jsx)(h.Z,{search:N,onClick:function(){return b.push("/create-user")},addPermission:E})})},v=s.memo(x),j=t(50645),g=t(537),P=t(84341),N=function(){return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:"mt-2",children:[(0,p.jsx)(P.ZP,{height:40}),(0,p.jsx)(P.ZP,{count:10,height:25})]}),(0,p.jsxs)("div",{className:"row d-flex mt-2",children:[(0,p.jsx)("div",{className:"col-6",children:(0,p.jsx)(P.ZP,{width:220,height:20})}),(0,p.jsx)("div",{className:"col-6 d-flex justify-content-end",children:(0,p.jsx)(P.ZP,{width:200,height:30})})]})]})},b=function(){var e=(0,f.k6)(),n=((0,a.v9)((function(e){return e.auth.permissions})),(0,a.v9)((function(e){return e.auth.is_superuser})),(0,a.v9)((function(e){return e.user.users}))),t=(0,a.v9)((function(e){return e.user.loading})),o=(0,a.v9)((function(e){return e.user.loading_updated})),d=(0,a.v9)((function(e){return e.user.count})),m=((0,a.v9)((function(e){return e.user.edit})),(0,a.v9)((function(e){return e.search.search}))),h=(0,a.I0)(),x=(0,s.useState)(1),P=(0,r.Z)(x,2),b=P[0],Z=P[1],y=(0,s.useState)(5),_=(0,r.Z)(y,2),w=_[0],k=_[1],S=(0,s.useState)(0),C=(0,r.Z)(S,2),A=C[0],E=C[1],L=(0,s.useState)(10),M=(0,r.Z)(L,2),F=M[0],R=M[1];return(0,s.useEffect)((function(){0===F?h(""===m?(0,c.PR)(d):(0,c.o1)(m,d)):""===m?(F===j.P||Z(1),h((0,c.PR)(F))):(Z(1),k(5),E(0),h((0,c.o1)(m,F)))}),[h,F,m]),(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)("div",{className:"card",children:[(0,p.jsx)("div",{className:"header-content",children:(0,p.jsx)("h4",{className:"mb-sm-0 fw-normal",children:"User"})}),(0,p.jsxs)("div",{className:"card-body",children:[(0,p.jsx)("div",{className:"row m-0 p-0",children:(null===n||void 0===n?void 0:n.length)>0&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{className:"col-6",children:(0,p.jsx)(g.Z,{postsPerPage:F,setPostsPerPage:R})}),(0,p.jsx)("div",{className:"col-6 text-right",children:(0,p.jsx)(l.Z,{content:"Add",children:(0,p.jsxs)("button",{type:"button",className:"btn btn-primary waves-effect waves-light btn-sm float-end",onClick:function(){return e.push("/create-user")},children:[(0,p.jsx)(u.wEH,{className:"mb-1"}),"\xa0Add"]})})})]})}),t&&(0,p.jsx)(i.Z,{}),o&&(0,p.jsx)(N,{}),!t&&!o&&(0,p.jsx)(v,{currentPage:b,setCurrentPage:Z,postsPerPage:F,setPostsPerPage:R,count:d,maxPageNumberLimit:w,setMaxPageNumberLimit:k,minPageNumberLimit:A,setMinPageNumberLimit:E,search:m})]})]})})}},79814:function(e,n,t){t.d(n,{Nq:function(){return o},PR:function(){return s},Rv:function(){return c},TI:function(){return a},fD:function(){return m},hj:function(){return i},o1:function(){return l},pX:function(){return d},r4:function(){return u}});var r=t(89731),s=function(e){return r.Z.get("api/v1/user-app/user?offset=0&limit=".concat(e,"&ordering=-id"))},a=function(e){return r.Z.get(e)},i=function(e){return r.Z.get(e)},c=function(e,n){return r.Z.get("api/v1/user-app/user?offset=".concat((e-1)*n,"&limit=").concat(n,"&ordering=-id"))},u=function(e){return r.Z.post("api/v1/user-app/user",e)},o=function(e,n){return r.Z.patch("api/v1/user-app/update-user/".concat(e),n)},l=function(e,n){return r.Z.get("api/v1/user-app/user?offset=0&limit=".concat(n,"&search=").concat(e))},d=function(e,n){return r.Z.get("api/v1/user-app/user?username=".concat(e.target.value.trim()),{cancelToken:n.token})},m=function(e,n){return r.Z.get("api/v1/user-app/user?employee_id=".concat(e.target.value.trim()),{cancelToken:n.token})}},91653:function(e,n,t){t.d(n,{r4:function(){return g},hj:function(){return v},Rv:function(){return j},TI:function(){return x},PR:function(){return p},o1:function(){return N},Nq:function(){return P}});var r=t(6515),s=t(33032),a=t(84322),i=t.n(a),c=t(79814),u=t(88038),o=function(){return{type:u.A.LOADING_USER}},l=function(){return{type:u.A.LOADING_UPDATED}},d=function(e){return{type:u.A.GET_USER_SUCCESS,payload:e}},m=function(e){return{type:u.A.GET_USER_FAIL,payload:e}},h=function(e){return{type:u.A.UPDATE_USER_FAIL,payload:e}},f=t(29801),p=(t(30456),function(e){return function(){var n=(0,s.Z)(i().mark((function n(t){var s,a,u;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t(o()),n.next=4,c.PR(e);case 4:s=n.sent,a=s.data,u=a.results.filter((function(e){return!1===e.is_superuser})),t(d((0,r.Z)((0,r.Z)({},a),{},{results:u}))),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(0),t(m(n.t0)),(0,f.Mn)(n.t0);case 14:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}()}),x=function(e){return function(){var n=(0,s.Z)(i().mark((function n(t){var s,a,u;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t(o()),n.next=4,c.TI(e);case 4:s=n.sent,a=s.data,u=a.results.filter((function(e){return!1===e.is_superuser})),t(d((0,r.Z)((0,r.Z)({},a),{},{results:u}))),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(0),t(m(n.t0)),(0,f.Mn)(n.t0);case 14:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}()},v=function(e){return function(){var n=(0,s.Z)(i().mark((function n(t){var s,a,u;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t(o()),n.next=4,c.hj(e);case 4:s=n.sent,a=s.data,u=a.results.filter((function(e){return!1===e.is_superuser})),t(d((0,r.Z)((0,r.Z)({},a),{},{results:u}))),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(0),t(m(n.t0)),(0,f.Mn)(n.t0);case 14:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}()},j=function(e){var n=e.number,t=e.postsPerPage;return function(){var e=(0,s.Z)(i().mark((function e(r){var s,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r(o()),e.next=4,c.Rv(n,t);case 4:s=e.sent,a=s.data,r(d(a)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),r(m(e.t0)),(0,f.Mn)(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(n){return e.apply(this,arguments)}}()},g=function(e,n){var t=e.first_name,r=e.middle_name,a=e.last_name,l=e.email,d=e.username,m=e.employee_id,h=e.is_active,p=e.user_branch,x=e.group,v=e.gender,j=e.password,g=e.confirm_password,P=e.history;return function(){var e=(0,s.Z)(i().mark((function e(n){var s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s=JSON.stringify({first_name:t,middle_name:r,last_name:a,email:l,username:d,employee_id:m,group:x,is_active:h,user_branch:p,gender:v,password:j,confirm_password:g}),n(o()),e.next=5,c.r4(s);case 5:(0,f.My)("User created successfully "),P.push("/user"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),n((i=e.t0,{type:u.A.CREATE_USER_FAIL,payload:i})),(0,f.Mn)("Failed to create user.");case 13:case"end":return e.stop()}var i}),e,null,[[0,9]])})));return function(n){return e.apply(this,arguments)}}()},P=function(e,n,t){return function(){var r=(0,s.Z)(i().mark((function r(s){var a,u,o,d,m,p,x,v,j,g,P,N,b;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=n.first_name,u=n.middle_name,o=n.last_name,d=n.email,m=n.username,p=n.employee_id,x=n.user_branch,v=n.group,j=n.gender,g=n.is_active,P=n.remarks,r.prev=1,s(l()),N=JSON.stringify({first_name:a,middle_name:u,last_name:o,email:d,username:m,employee_id:p,user_branch:x,group:v,gender:j,is_active:g,remarks:P}),r.next=6,c.Nq(e,N);case 6:b=r.sent,b.data,(0,f.My)("User Updated Successfully "),t.push("/user"),r.next=16;break;case 12:r.prev=12,r.t0=r.catch(1),s(h(r.t0)),(0,f.Mn)("Failed to Update User");case 16:case"end":return r.stop()}}),r,null,[[1,12]])})));return function(e){return r.apply(this,arguments)}}()},N=function(e,n){return function(){var t=(0,s.Z)(i().mark((function t(r){var s,a;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r(o()),t.next=4,c.o1(e,n);case 4:s=t.sent,a=s.data,r(d(a)),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),r(m(t.t0)),(0,f.Mn)(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}},50645:function(e,n,t){t.d(n,{P:function(){return r}});var r=10}}]);
//# sourceMappingURL=403.b5a1ceb5.chunk.js.map