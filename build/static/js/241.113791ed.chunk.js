"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[241],{2557:function(e,t,n){n(72791);var a=n(16587),r=n(98158),o=n(80184);t.Z=function(e){var t=e.type,n=e.className,c=e.disabled,s=e.title,i=e.loading,l=e.content,u=e.color,d=e.onClick;return(0,o.jsx)(r.Z,{content:l,children:(0,o.jsx)("button",{onClick:d,type:t,className:n,disabled:c,children:i?(0,o.jsx)(a.Z,{color:u}):s})})}},16587:function(e,t,n){n(72791);var a=n(32328),r=n(80184);t.Z=function(){return console.log("in"),(0,r.jsx)("img",{src:a,alt:"spinner",height:"30px",className:"ml-4"})}},94924:function(e,t,n){n.d(t,{Z:function(){return r}});n(72791);var a=n(80184),r=function(e){return(0,a.jsx)("div",{className:"error",children:e.children})}},98158:function(e,t,n){n(72791);var a=n(36652),r=n(80184);t.Z=function(e){var t=e.content,n=e.children;return(0,r.jsx)(a.ZP,{content:t,children:n})}},24241:function(e,t,n){n.r(t),n.d(t,{default:function(){return F}});var a=n(23430),r=n(72791),o=n(16030),c=n(33032),s=n(84322),i=n.n(s),l=n(10114),u=n(96063),d=n(55705),p=n(59513),f=n.n(p),m=n(12667),h=n(56391),v=n(2557),b=n(94924),D=n(37766),x=n(89731),g=n(2664),S=n(80184),y=function(e){var t=e.name,n=e.setShowPrintExcelReportModal,s=e.setShowPrintPDFReportModal,p=e.setShowPrintReportModal,y=e.reportStartDate,w=e.setReportStartDate,j=e.reportEndDate,R=e.setReportEndDate,N=e.setFormData,k=(0,o.I0)(),F=(0,r.useState)(!0),Z=(0,a.Z)(F,2),P=Z[0],C=(Z[1],{user:null,adSystem:!0,bsSystem:!1,startDate:(new Date).toLocaleDateString("fr-CA"),endDate:(new Date).toLocaleDateString("fr-CA"),quickReport:!0,pdfReport:!1,excelReport:!1,district:null,branch:null}),E=h.Ry().shape({adSystem:h.Xg(),bsSystem:h.Xg(),startDate:h.Z_().test("startDate","Start Date cannot be greater than today's date",(function(e){var t=this.parent.adSystem,n=void 0!==e?10===e.length?(0,l.bsToAd)(e):e:"";return!(t&&void 0!==e&&new Date(e)>new Date)&&!(!t&&void 0!==e&&new Date(n)>new Date)})).test("startDate","Start Date cannot be greater than end Date",(function(e){var t=this.parent,n=t.adSystem,a=t.endDate,r=void 0!==e?10===e.length?(0,l.bsToAd)(e):e:"";return!(n&&void 0!==e&&new Date(e)>new Date(a))&&!(!n&&void 0!==e&&new Date(r)>new Date(a))})),endDate:h.Z_().test("endDate","End Date cannot be greater than today's date",(function(e){var t=this.parent.adSystem,n=void 0!==e?10===e.length?(0,l.bsToAd)(e):e:"";return!(t&&void 0!==e&&new Date(e)>new Date)&&!(!t&&void 0!==e&&new Date(n)>new Date)})).test("endDate","End Date cannot be less than start Date",(function(e){var t=this.parent,n=t.adSystem,a=t.startDate,r=10===a.length?(0,l.bsToAd)(a):a,o=void 0!==e?10===e.length?(0,l.bsToAd)(e):e:"";return!(n&&void 0!==e&&new Date(e)<new Date(r))&&!(!n&&void 0!==e&&new Date(o)<new Date(r))})),user:h.Ry().nullable(!0),district:h.Ry().nullable(!0),branch:h.Ry().nullable(!0),quickReport:h.Xg(),pdfReport:h.Xg(),excelReport:h.Xg()}),V=function(){var e=(0,c.Z)(i().mark((function e(a){var r,o,c,l,u,d,f,m,h,v,b;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=a.startDate,o=a.endDate,c=a.adSystem,l=a.quickReport,u=a.pdfReport,d=a.user,f=a.district,m=a.branch,h=c?(0,g.P)(new Date(r)):y,v=c?(0,g.P)(new Date(o)):j,b={formatedStartDate:h,formatedEndDate:v,user:null!==d&&void 0!==d&&d.id?null===d||void 0===d?void 0:d.id:"",district:null!==f&&void 0!==f&&f.id?null===f||void 0===f?void 0:f.id:"",branch:null!==m&&void 0!==m&&m.id?null===m||void 0===m?void 0:m.id:""},N(b),l?P?"printReport"===t&&(k((0,D.Jx)(10,b)),p(!0)):"printReport"===t&&(k((0,D.II)(b)),p(!0)):u?"printReport"===t&&(k((0,D.II)(b)),s(!0)):"printReport"===t&&(k((0,D.II)(b)),n(!0));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=(0,c.Z)(i().mark((function e(t,n,a){var r,o,c,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.limit,o=a.offset,e.next=3,(0,x.Z)("/api/v1/user-app/user-list?search=".concat(t,"&offset=").concat(o,"&limit=").concat(r));case 3:return c=e.sent,s=c.data,e.abrupt("return",{options:s.results,hasMore:s.count>r,additional:{offset:s.count>r?r+1:r,limit:r+10}});case 6:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),I=function(){var e=(0,c.Z)(i().mark((function e(t,n,a){var r,o,c,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.limit,o=a.offset,e.next=3,(0,x.Z)("/api/v1/core-app/district-list?search=".concat(t,"&offset=").concat(o,"&limit=").concat(r));case 3:return c=e.sent,s=c.data,e.abrupt("return",{options:s.results,hasMore:s.count>r,additional:{offset:s.count>r?r+1:r,limit:r+10}});case 6:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),_=function(){var e=(0,c.Z)(i().mark((function e(t,n,a){var r,o,c,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.limit,o=a.offset,e.next=3,(0,x.Z)("/api/v1/core-app/branch-list?search=".concat(t,"&offset=").concat(o,"&limit=").concat(r));case 3:return c=e.sent,s=c.data,e.abrupt("return",{options:s.results,hasMore:s.count>r,additional:{offset:s.count>r?r+1:r,limit:r+10}});case 6:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}();return(0,S.jsx)(S.Fragment,{children:(0,S.jsx)("div",{className:"row justify-content-center",children:(0,S.jsx)("div",{className:"col-md-7 ",style:{paddingBottom:"10",marginBottom:"10%"},children:(0,S.jsx)("div",{className:"card p-3 mb-5 mt-3 bg-white rounded",children:(0,S.jsx)("div",{className:"card-body",children:(0,S.jsx)(d.J9,{enableReinitialize:!0,initialValues:C,validationSchema:E,onSubmit:V,children:function(e){return(0,S.jsxs)(d.l0,{autoComplete:"off",children:[(0,S.jsxs)("div",{className:"form-group row mb-5 justify-content-center",children:[(0,S.jsxs)("div",{className:"col-3 mb-3",children:[(0,S.jsx)("label",{htmlFor:"user",className:"fw-bold",children:"User"}),(0,S.jsx)(m.n9,{blurInputOnSelect:!0,value:e.values.user,isClearable:"true",isSearchable:"true",name:"user",inputId:"input",getOptionLabel:function(e){return"".concat(e.username)},getOptionValue:function(e){return"".concat(null===e||void 0===e?void 0:e.id)},onChange:function(t){e.setFieldValue("user",t)},loadOptions:M,additional:{offset:0,limit:10}}),(0,S.jsx)(d.Bc,{name:"user",component:b.Z})]}),(0,S.jsxs)("div",{className:"col-4 mb-3",children:[(0,S.jsx)("label",{htmlFor:"district",className:"fw-bold",children:"District"}),(0,S.jsx)(m.n9,{blurInputOnSelect:!0,value:e.values.supplier,isClearable:"true",isSearchable:"true",name:"district",inputId:"input",getOptionLabel:function(e){return"".concat(e.name)},getOptionValue:function(e){return"".concat(null===e||void 0===e?void 0:e.id)},onChange:function(t){e.setFieldValue("district",t)},loadOptions:I,additional:{offset:0,limit:10}}),(0,S.jsx)(d.Bc,{name:"district",component:b.Z})]}),(0,S.jsxs)("div",{className:"col-4 mb-3",children:[(0,S.jsx)("label",{htmlFor:"branch",className:"fw-bold",children:"Branch"}),(0,S.jsx)(m.n9,{blurInputOnSelect:!0,value:e.values.supplier,isClearable:"true",isSearchable:"true",name:"branch",inputId:"input",getOptionLabel:function(e){return"".concat(e.name)},getOptionValue:function(e){return"".concat(null===e||void 0===e?void 0:e.id)},onChange:function(t){e.setFieldValue("branch",t)},loadOptions:_,additional:{offset:0,limit:10}}),(0,S.jsx)(d.Bc,{name:"branch",component:b.Z})]}),(0,S.jsxs)("div",{className:"col-5 text-center m-3",children:[(0,S.jsx)(d.gN,{type:"checkbox",name:"adSystem",id:"adSystem",className:"filled-in chk-col-blue ",onChange:function(t){e.setFieldValue("startDate",(new Date).toLocaleDateString("fr-CA")),e.setFieldValue("endDate",(new Date).toLocaleDateString("fr-CA")),e.setFieldValue("adSystem",t.target.checked),e.setFieldValue("bsSystem",!1)}}),(0,S.jsx)("label",{htmlFor:"adSystem",className:"ml-2 fw-bold",children:"A.D System"})]}),(0,S.jsxs)("div",{className:"col-5 text-center m-3",children:[(0,S.jsx)(d.gN,{type:"checkbox",name:"bsSystem",id:"bsSystem",className:"filled-in chk-col-blue ",onChange:function(t){e.setFieldValue("bsSystem",t.target.checked),e.setFieldValue("adSystem",!1)}}),(0,S.jsxs)("label",{htmlFor:"bsSystem",className:"mx-2 fw-bold",children:[" ","B.S System"]})]}),(0,S.jsxs)("div",{className:"col-5",children:[(0,S.jsx)("label",{htmlFor:"from_date",className:"fw-bold",children:"Start Date"}),e.values.bsSystem?(0,S.jsx)(u.Z,{value:e.values.startDate,onChange:function(t){var n=t.bsDate,a=t.adDate;e.setFieldValue("startDate",n),w(a)},className:"form-control",label:"Start Date",name:"startDate",language:"en",dateFormat:"YYYY-MM-DD"}):(0,S.jsx)(f(),{value:e.values.startDate,format:"yyyy-MM-dd",label:"Start Date",name:"startDate",className:"form-control",onChange:function(t){e.setFieldValue("startDate",null===t||void 0===t?void 0:t.toLocaleDateString("fr-CA")),w(t)}}),(0,S.jsx)(d.Bc,{component:b.Z,name:"startDate"})]}),(0,S.jsxs)("div",{className:"col-5",children:[(0,S.jsx)("label",{htmlFor:"endDate",className:"fw-bold",children:"End Date"}),e.values.bsSystem?(0,S.jsx)(u.Z,{value:e.values.endDate,onChange:function(t){var n=t.bsDate,a=t.adDate;e.setFieldValue("endDate",n),R(a)},className:"form-control",label:"End Date",name:"endDate",language:"en",dateFormat:"YYYY-MM-DD"}):(0,S.jsx)(f(),{value:e.values.endDate,format:"yyyy-MM-dd",label:"End Date",name:"endDate",className:"form-control",onChange:function(t){e.setFieldValue("endDate",null===t||void 0===t?void 0:t.toLocaleDateString("fr-CA")),R(t)}}),(0,S.jsx)(d.Bc,{component:b.Z,name:"endDate"})]}),(0,S.jsxs)("div",{className:"col-3 m-3 text-center",children:[(0,S.jsx)(d.gN,{type:"checkbox",name:"quickReport",id:"quickReport",className:"filled-in chk-col-blue ",onChange:function(t){e.setFieldValue("quickReport",t.target.checked),e.setFieldValue("pdfReport",!1),e.setFieldValue("excelReport",!1)}}),(0,S.jsxs)("label",{htmlFor:"quickReport",className:"mx-2 fw-bold",children:[" ","Quick Report"]})]}),(0,S.jsxs)("div",{className:"col-3 m-3 text-center",children:[(0,S.jsx)(d.gN,{type:"checkbox",name:"pdfReport",id:"pdfReport",className:"filled-in chk-col-blue ",onChange:function(t){e.setFieldValue("pdfReport",t.target.checked),e.setFieldValue("quickReport",!1),e.setFieldValue("excelReport",!1)}}),(0,S.jsxs)("label",{htmlFor:"pdfReport",className:"mx-2 fw-bold",children:[" ","PDF"]})]}),(0,S.jsxs)("div",{className:"col-3 m-3 text-center",children:[(0,S.jsx)(d.gN,{type:"checkbox",name:"excelReport",id:"excelReport",className:"filled-in chk-col-blue ",onChange:function(t){e.setFieldValue("excelReport",t.target.checked),e.setFieldValue("pdfReport",!1),e.setFieldValue("quickReport",!1)}}),(0,S.jsxs)("label",{htmlFor:"excelReport",className:"mx-2 fw-bold",children:[" ","Excel"]})]})]}),(0,S.jsx)("div",{className:"form-group d-flex justify-content-center mt-3 ",children:(0,S.jsx)(v.Z,{type:"btn",className:"btn btn-primary",title:"Generate",content:"Generate"})})]})}})})})})})})},w=r.memo(y),j=(0,r.lazy)((function(){return n.e(709).then(n.bind(n,15887))})),R=(0,r.lazy)((function(){return Promise.all([n.e(125),n.e(52),n.e(693),n.e(986)]).then(n.bind(n,2986))})),N=(0,r.lazy)((function(){return Promise.all([n.e(133),n.e(873)]).then(n.bind(n,71103))})),k=function(){var e=(0,o.v9)((function(e){return e.printReport.prints})),t=(0,r.useState)(new Date),n=(0,a.Z)(t,2),c=n[0],s=n[1],i=(0,r.useState)(new Date),l=(0,a.Z)(i,2),u=l[0],d=l[1],p=(0,r.useState)(null),f=(0,a.Z)(p,2),m=f[0],h=f[1],v=(0,r.useState)(!1),b=(0,a.Z)(v,2),D=b[0],x=b[1],g=(0,r.useState)(!1),y=(0,a.Z)(g,2),k=y[0],F=y[1],Z=(0,r.useState)(!1),P=(0,a.Z)(Z,2),C=P[0],E=P[1];return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(w,{name:"printReport",setShowPrintExcelReportModal:E,setShowPrintPDFReportModal:F,setShowPrintReportModal:x,reportStartDate:c,setReportStartDate:s,reportEndDate:u,setReportEndDate:d,setFormData:h}),(0,S.jsx)(r.Suspense,{fallback:(0,S.jsx)("div",{children:"Loading..."}),children:D&&(null===e||void 0===e?void 0:e.length)>0&&(0,S.jsx)(j,{showPrintReportModal:D,setShowPrintReportModal:x,formData:m,prints:e})}),(0,S.jsx)(r.Suspense,{fallback:(0,S.jsx)("div",{children:"Loading..."}),children:k&&(null===e||void 0===e?void 0:e.length)>0&&(0,S.jsx)(R,{showPrintPDFReportModal:k,setShowPrintPDFReportModal:F,formData:m,prints:e})}),(0,S.jsx)(r.Suspense,{fallback:(0,S.jsx)("div",{children:"Loading..."}),children:C&&(null===e||void 0===e?void 0:e.length)>0&&(0,S.jsx)(N,{showPrintExcelReportModal:C,setShowPrintExcelReportModal:E,formData:m,prints:e})})]})},F=r.memo(k)},37766:function(e,t,n){n.d(t,{II:function(){return S},hj:function(){return x},R8:function(){return g},TI:function(){return D},Jx:function(){return b}});var a=n(33032),r=n(84322),o=n.n(r),c=n(89731),s=function(e){var t=e.formatedStartDate,n=e.formatedEndDate,a=e.district,r=e.branch,o=e.user,s=e.postsPerPage;return c.Z.get("api/v1/core-app/print-debit-report?offset=0&limit=".concat(s,"&district=").concat(a,"&branch=").concat(r,"&created_by=").concat(o,"&date_after=").concat(t,"&date_before=").concat(n))},i=function(e){return c.Z.get(e)},l=function(e){return c.Z.get(e)},u=function(e,t,n,a,r,o,s){return c.Z.get("api/v1/core-app/print-debit-report?offset=".concat((e-1)*t,"&limit=").concat(t,"&district=").concat(n,"&branch=").concat(a,"&created_by=").concat(r,"&date_after=").concat(o,"&date_before=").concat(s))},d=function(e){var t=e.formatedStartDate,n=e.formatedEndDate,a=e.district,r=e.branch,o=e.user;return c.Z.get("api/v1/core-app/print-debit-report?district=".concat(a,"&branch=").concat(r,"&created_by=").concat(o,"&date_after=").concat(t,"&date_before=").concat(n,"&limit=0"))},p=n(2421),f=function(){return{type:p.A.LOADING_REPORT}},m=function(e){return{type:p.A.GET_PRINT_REPORT_SUCCESS,payload:e}},h=function(e){return{type:p.A.GET_PRINT_REPORT_FAIL,payload:e}},v=n(29801),b=function(e,t){return function(){var n=(0,a.Z)(o().mark((function n(a){var r,c,i,l,u,d,p;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.formatedStartDate,c=t.formatedEndDate,i=t.district,l=t.branch,u=t.user,n.prev=1,a(f()),n.next=5,s({formatedStartDate:r,formatedEndDate:c,district:i,branch:l,user:u,postsPerPage:e});case 5:d=n.sent,!(null!==(p=d.data)&&void 0!==p&&p.results.length)>0&&(0,v.W2)("Data Not found"),a(m(p)),n.next=15;break;case 11:n.prev=11,n.t0=n.catch(1),a(h(n.t0)),(0,v.Mn)(n.t0);case 15:case"end":return n.stop()}}),n,null,[[1,11]])})));return function(e){return n.apply(this,arguments)}}()},D=function(e){return function(){var t=(0,a.Z)(o().mark((function t(n){var a,r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(f()),t.next=4,i(e);case 4:a=t.sent,r=a.data,n(m(r)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),n(h(t.t0));case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},x=function(e){return function(){var t=(0,a.Z)(o().mark((function t(n){var a,r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(f()),t.next=4,l(e);case 4:a=t.sent,r=a.data,n(m(r)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),n(h(t.t0));case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},g=function(e){var t=e.number,n=e.postsPerPage,r=e.formatedStartDate,c=e.formatedEndDate,s=e.district,i=e.branch,l=e.user;return function(){var e=(0,a.Z)(o().mark((function e(a){var d,p;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a(f()),e.next=4,u(t,n,r,c,s,i,l);case 4:d=e.sent,p=d.data,a(m(p)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),a(h(e.t0));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},S=function(e){return function(){var t=(0,a.Z)(o().mark((function t(n){var a,r,c,s,i,l,u;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.formatedStartDate,r=e.formatedEndDate,c=e.district,s=e.branch,i=e.user,t.prev=1,n(f()),t.next=5,d({formatedStartDate:a,formatedEndDate:r,district:c,branch:s,user:i});case 5:l=t.sent,!(null!==(u=l.data)&&void 0!==u&&u.results.length)>0&&(0,v.W2)("Data Not found"),n(m(u)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),n(h(t.t0));case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}()}},2664:function(e,t,n){n.d(t,{P:function(){return a}});var a=function(e){if(e)return Intl.DateTimeFormat("fr-CA",{day:"2-digit",month:"2-digit",year:"numeric"}).format(e)}},32328:function(e,t,n){e.exports=n.p+"static/media/spinner.9012f56ae4662e1be3c6.gif"}}]);
//# sourceMappingURL=241.113791ed.chunk.js.map