"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[113],{81829:function(t,e,n){n(72791);var r=n(56355),i=n(98158),c=n(80184);e.Z=function(t){var e=t.search,n=t.onClick,a=t.addPermission;return(0,c.jsxs)("div",{className:"text-center justify-content-center no-data",children:[(0,c.jsx)("h4",{className:"fw-normal mb-3",children:"No data to Display"}),!e&&a&&(0,c.jsxs)("h6",{children:["Please"," ",(0,c.jsx)(i.Z,{content:"Add",children:(0,c.jsxs)("button",{onClick:n,className:"btn btn-primary waves-effect waves-light btn-sm mx-2 p-1 nodata-btn",children:[(0,c.jsx)(r.wEH,{className:"nodata-icon"}),"\xa0Add"]})})," ","some..."]})]})}},90883:function(t,e,n){n.d(e,{Z:function(){return o}});var r=n(72791),i=n(80184),c=function(t){var e=t.offset,n=t.limit,c=t.count;return(0,i.jsx)(r.Fragment,{children:(0,i.jsxs)("p",{children:["Showing ",e," to"," ",n>c||0===n?c:n," of ",c," entries"]})})},a=r.memo(c),s=function(t){var e=t.postsPerPage,n=t.totalPosts,r=t.paginate,c=t.handleClick,a=t.currentPage,s=t.maxPageNumberLimit,u=t.minPageNumberLimit,o=[];if(e>0)for(var l=1;l<=Math.ceil(n/e);l++)o.push(l);o.length;return u>=1&&(0,i.jsx)("button",{className:"page-link",onClick:function(){return c("previous")},children:"\u2026"}),(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("ul",{className:"pagination pagination-sm justify-content-end",children:[(0,i.jsx)("li",{className:"page-item ",children:(0,i.jsx)("button",{className:"page-link",onClick:function(){return c("previous")},disabled:a===o[0],children:"\xab"})}),o.map((function(t,e){return t<s+1&&t>u?(0,i.jsx)("li",{className:"page-item",children:(0,i.jsx)("button",{onClick:function(){return r(t)},className:"page-link ".concat(e+1===a?"active":null),children:t})},t):null})),(0,i.jsx)("li",{className:"page-item",children:(0,i.jsx)("button",{className:"page-link",onClick:function(){return c("next")},disabled:a===o[o.length-1],children:"\xbb"})})]})})},u=r.memo(s),o=function(t){var e=t.currentPage,n=t.postsPerPage,r=t.count,c=t.paginate,s=t.handleClick,o=t.setCurrentPage,l=t.minPageNumberLimit,d=t.maxPageNumberLimit;return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:"row",children:[(0,i.jsx)("div",{className:"col-6",children:(0,i.jsx)(a,{offset:1+(e-1)*n,limit:n*e,count:r})}),n<r&&(0,i.jsx)("div",{className:"col-6 text-right",children:(0,i.jsx)(u,{postsPerPage:n,totalPosts:r,paginate:c,handleClick:s,currentPage:e,setCurrentPage:o,minPageNumberLimit:l,maxPageNumberLimit:d})})]})})}},537:function(t,e,n){var r=n(72791),i=n(80184),c=function(t){var e=t.postsPerPage,n=t.setPostsPerPage;return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("p",{className:"fw-normal p-0 m-0",children:["Show",(0,i.jsxs)("span",{className:"ml-1 mr-1",children:[" ",(0,i.jsxs)("select",{value:e,onChange:function(t){var e=Number(t.target.value);n(e)},children:[(0,i.jsx)("option",{value:"10",children:"10"}),(0,i.jsx)("option",{value:"20",children:"20"}),(0,i.jsx)("option",{value:"40",children:"40"}),(0,i.jsx)("option",{value:"99999999",children:"All"})]})]})," ","entries"]})})};e.Z=r.memo(c)},12721:function(t,e,n){n(72791);var r=n(84341),i=n(80184);e.Z=function(){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"row ",children:[(0,i.jsx)("div",{className:"col-6 d-flex ",children:(0,i.jsx)(r.ZP,{width:200,height:25})}),(0,i.jsx)("div",{className:"col-6 d-flex justify-content-end",children:(0,i.jsx)(r.ZP,{width:80,height:30})})]}),(0,i.jsxs)("div",{className:"mt-2",children:[(0,i.jsx)(r.ZP,{height:40}),(0,i.jsx)(r.ZP,{count:10,height:25})]}),(0,i.jsxs)("div",{className:"row d-flex mt-2",children:[(0,i.jsx)("div",{className:"col-6",children:(0,i.jsx)(r.ZP,{width:220,height:20})}),(0,i.jsx)("div",{className:"col-6 d-flex justify-content-end",children:(0,i.jsx)(r.ZP,{width:200,height:30})})]})]})}},93969:function(t,e,n){n(72791);var r=n(56355),i=n(39126),c=n(80184);e.Z=function(t){var e=t.active;return(0,c.jsx)("div",{children:e?(0,c.jsx)(r.FJM,{style:{color:"green",fontSize:"15px"}}):(0,c.jsx)(i.HJl,{style:{color:"rgba(230, 16, 16, 0.979)",fontSize:"15px"}})})}},98158:function(t,e,n){n(72791);var r=n(36652),i=n(80184);e.Z=function(t){var e=t.content,n=t.children;return(0,i.jsx)(r.ZP,{content:e,children:n})}},81113:function(t,e,n){n.r(e),n.d(e,{default:function(){return g}});var r=n(23430),i=n(72791),c=n(50645),a=n(62040),s=n(56355),u=n(93969),o=n(16030),l=n(99441),d=n(90883),f=n(81829),h=n(98158),m=n(79271),p=n(80184),x=function(t){var e=t.currentPage,n=t.postsPerPage,c=t.setCurrentPage,x=t.count,v=(t.setShowModal,t.maxPageNumberLimit),j=t.setMaxPageNumberLimit,g=t.minPageNumberLimit,P=t.setMinPageNumberLimit,b=t.search,N=(0,m.k6)(),k=(0,o.v9)((function(t){return t.auth.group})),y=(0,o.v9)((function(t){return t.auth.is_superuser})),C=(0,o.v9)((function(t){return t.district.districts})),Z=(0,o.v9)((function(t){return t.district.next})),w=(0,o.v9)((function(t){return t.district.previous})),S=(0,o.I0)(),_=(0,i.useState)(5),T=(0,r.Z)(_,1)[0],I=!("ADMIN"!==k&&"MAINTAINER"!==k&&!y);return(0,p.jsx)(p.Fragment,{children:(null===C||void 0===C?void 0:C.length)>0?(0,p.jsxs)("div",{className:"mt-2",children:[(0,p.jsx)("div",{className:"table-scrollable",children:(0,p.jsxs)("table",{className:"table table-hover table-bordered text-center",children:[(0,p.jsx)("thead",{children:(0,p.jsxs)("tr",{children:[(0,p.jsx)("th",{scope:"col",style:{width:"8%"},children:"S.N"}),(0,p.jsx)("th",{scope:"col",children:"District Name"}),(0,p.jsx)("th",{scope:"col",children:"Active"}),(0,p.jsx)("th",{scope:"col",children:"Action"})]})}),(0,p.jsx)("tbody",{children:(null===C||void 0===C?void 0:C.length)>0&&C.map((function(t,r){var i=t.id,c=t.name_nepali,a=t.is_active;return(0,p.jsxs)("tr",{children:[(0,p.jsxs)("td",{className:"fw-bold",style:{width:"8%"},children:[n*(e-1)+(r+1)," "]}),(0,p.jsx)("td",{children:""===c?"-":c}),(0,p.jsx)("td",{children:(0,p.jsx)(u.Z,{active:a})}),(0,p.jsx)("td",{children:(0,p.jsx)(h.Z,{content:"Edit",children:(0,p.jsx)("button",{onClick:function(){return function(t){S({type:l.k.DISTRICT_EDIT_SUCCESS,payload:t}),N.push("/create-district")}(i)},className:"btn btn-sm btn-edit btn-primary mx-2",children:(0,p.jsx)(s.fmQ,{})})})})]},i)}))})]})}),x>0&&(0,p.jsx)(d.Z,{currentPage:e,postsPerPage:n,count:x,paginate:function(t){S((0,a.bo)({number:t,postsPerPage:n})),c(t)},handleClick:function(t){"previous"===t?(S((0,a.TI)(w)),c((function(t){return t-1})),(e-1)%T===0&&(j(v-T),P(g-T))):"next"===t&&(S((0,a.hj)(Z)),c((function(t){return t+1})),e+1>v&&(j(v+T),P(g+T)))},setCurrentPage:c,minPageNumberLimit:g,maxPageNumberLimit:v})]}):(0,p.jsx)(f.Z,{search:b,onClick:function(){return N.push("/create-district")},addPermission:I})})},v=n(12721),j=n(537),g=function(){var t=(0,m.k6)(),e=((0,o.v9)((function(t){return t.auth.permissions})),(0,o.v9)((function(t){return t.auth.is_superuser})),(0,o.v9)((function(t){return t.district.districts}))),n=(0,o.v9)((function(t){return t.district.loading})),u=(0,o.v9)((function(t){return t.district.loading_updated})),l=(0,o.v9)((function(t){return t.district.count})),d=(0,o.v9)((function(t){return t.search.search})),f=(0,o.I0)(),g=(0,i.useState)(1),P=(0,r.Z)(g,2),b=P[0],N=P[1],k=(0,i.useState)(5),y=(0,r.Z)(k,2),C=y[0],Z=y[1],w=(0,i.useState)(0),S=(0,r.Z)(w,2),_=S[0],T=S[1],I=(0,i.useState)(10),D=(0,r.Z)(I,2),A=D[0],L=D[1];return(0,i.useEffect)((function(){0===A?f(""===d?(0,a._h)(l):(0,a.o1)(d,l)):""===d?(A===c.P||N(1),f((0,a._h)(A))):(N(1),Z(5),T(0),f((0,a.o1)(d,A)))}),[f,A,d]),(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)("div",{className:"card",children:[(0,p.jsx)("div",{className:"header-content",children:(0,p.jsx)("h4",{className:"mb-sm-0 fw-normal",children:"District"})}),(0,p.jsxs)("div",{className:"card-body",children:[(0,p.jsx)("div",{className:"row m-0 p-0",children:(null===e||void 0===e?void 0:e.length)>0&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{className:"col-6",children:(0,p.jsx)(j.Z,{postsPerPage:A,setPostsPerPage:L})}),(0,p.jsx)("div",{className:"col-6 text-right",children:(0,p.jsx)(h.Z,{content:"Add",children:(0,p.jsxs)("button",{className:"btn btn-primary waves-effect waves-light btn-sm float-end",onClick:function(){return t.push("/create-district")},children:[(0,p.jsx)(s.wEH,{className:"mb-1"}),"\xa0Add"]})})})]})}),n&&(0,p.jsx)(v.Z,{}),u&&(0,p.jsx)(v.Z,{}),!n&&!u&&(0,p.jsx)(x,{currentPage:b,setCurrentPage:N,postsPerPage:A,setPostsPerPage:L,count:l,maxPageNumberLimit:C,setMaxPageNumberLimit:Z,minPageNumberLimit:_,setMinPageNumberLimit:T,search:d})]})]})})}},10469:function(t,e,n){n.d(e,{CT:function(){return u},Ce:function(){return d},TI:function(){return c},_h:function(){return i},bo:function(){return s},hj:function(){return a},o1:function(){return l},rc:function(){return o}});var r=n(89731),i=function(t){return r.Z.get("api/v1/core-app/district?offset=0&limit=".concat(t,"&ordering=-id"))},c=function(t){return r.Z.get(t)},a=function(t){return r.Z.get(t)},s=function(t,e){return r.Z.get("api/v1/core-app/district?offset=".concat((t-1)*e,"&limit=").concat(e,"&ordering=-id"))},u=function(t){return r.Z.post("api/v1/core-app/district",t)},o=function(t,e){return r.Z.patch("api/v1/core-app/district/".concat(t),e)},l=function(t,e){return r.Z.get("api/v1/core-app/district?offset=0&limit=".concat(e,"&search=").concat(t))},d=function(t,e){return r.Z.get("api/v1/core-app/district?name=".concat(t),{cancelToken:e.token})}},62040:function(t,e,n){n.d(e,{CT:function(){return j},_h:function(){return m},hj:function(){return x},bo:function(){return v},TI:function(){return p},o1:function(){return P},rc:function(){return g}});var r=n(33032),i=n(84322),c=n.n(i),a=n(10469),s=n(99441),u=function(){return{type:s.k.LOADING_DISTRICT}},o=function(t){return{type:s.k.GET_DISTRICT_SUCCESS,payload:t}},l=function(t){return{type:s.k.GET_DISTRICT_FAIL,payload:t}},d=function(t){return{type:s.k.CREATE_DISTRICT_SUCCESS,payload:t}},f=function(t){return{type:s.k.DISTRICT_UPDATE_SUCCESS,payload:t}},h=n(29801),m=function(t){return function(){var e=(0,r.Z)(c().mark((function e(n){var r,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(u()),e.next=4,a._h(t);case 4:r=e.sent,i=r.data,n(o(i)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),n(l(e.t0)),(0,h.Mn)(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},p=function(t){return function(){var e=(0,r.Z)(c().mark((function e(n){var r,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(u()),e.next=4,a.TI(t);case 4:r=e.sent,i=r.data,n(o(i)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),n(l(e.t0)),(0,h.Mn)(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},x=function(t){return function(){var e=(0,r.Z)(c().mark((function e(n){var r,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(u()),e.next=4,a.hj(t);case 4:r=e.sent,i=r.data,n(o(i)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),n(l(e.t0)),(0,h.Mn)(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},v=function(t){var e=t.number,n=t.postsPerPage;return function(){var t=(0,r.Z)(c().mark((function t(r){var i,s;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r(u()),t.next=4,a.bo(e,n);case 4:i=t.sent,s=i.data,r(o(s)),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),r(l(t.t0)),(0,h.Mn)(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},j=function(t,e){var n=t.name,i=t.name_nepali,o=t.is_active;return function(){var t=(0,r.Z)(c().mark((function t(r){var l,f,m;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,l=JSON.stringify({name:n,name_nepali:i,is_active:o}),r(u()),t.next=5,a.CT(l);case 5:f=t.sent,m=f.data,r(d(m)),(0,h.My)("District Added Successfully."),e.push("/district"),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(0),r((c=t.t0,{type:s.k.CREATE_DISTRICT_FAIL,payload:c})),(0,h.Mn)("Failed to create District.");case 16:case"end":return t.stop()}var c}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()},g=function(t,e,n){return function(){var i=(0,r.Z)(c().mark((function r(i){var u,o,l,d,m,p,x;return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,i({type:s.k.LOADING_UPDATED}),u=n.name,o=n.name_nepali,l=n.remarks,d=n.is_active,m=JSON.stringify({name:u,name_nepali:o,remarks:l,is_active:d}),r.next=6,a.rc(t,m);case 6:p=r.sent,x=p.data,i(f(x)),(0,h.My)("District Updated Successfully "),e.push("/district"),r.next=17;break;case 13:r.prev=13,r.t0=r.catch(0),i((c=r.t0,{type:s.k.DISTRICT_UPDATE_FAIL,payload:c})),(0,h.Mn)("Failed to Update District");case 17:case"end":return r.stop()}var c}),r,null,[[0,13]])})));return function(t){return i.apply(this,arguments)}}()},P=function(t,e){return function(){var n=(0,r.Z)(c().mark((function n(r){var i,s;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r(u()),n.next=4,a.o1(t,e);case 4:i=n.sent,s=i.data,r(o(s)),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(0),r(l(n.t0)),(0,h.Mn)(n.t0);case 13:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(t){return n.apply(this,arguments)}}()}},50645:function(t,e,n){n.d(e,{P:function(){return r}});var r=10}}]);
//# sourceMappingURL=113.dff882be.chunk.js.map