"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[791],{81829:function(n,e,t){t(72791);var r=t(56355),a=t(98158),c=t(80184);e.Z=function(n){var e=n.search,t=n.onClick,i=n.addPermission;return(0,c.jsxs)("div",{className:"text-center justify-content-center no-data",children:[(0,c.jsx)("h4",{className:"fw-normal mb-3",children:"No data to Display"}),!e&&i&&(0,c.jsxs)("h6",{children:["Please"," ",(0,c.jsx)(a.Z,{content:"Add",children:(0,c.jsxs)("button",{onClick:t,className:"btn btn-primary waves-effect waves-light btn-sm mx-2 p-1 nodata-btn",children:[(0,c.jsx)(r.wEH,{className:"nodata-icon"}),"\xa0Add"]})})," ","some..."]})]})}},90883:function(n,e,t){t.d(e,{Z:function(){return o}});var r=t(72791),a=t(80184),c=function(n){var e=n.offset,t=n.limit,c=n.count;return(0,a.jsx)(r.Fragment,{children:(0,a.jsxs)("p",{children:["Showing ",e," to"," ",t>c||0===t?c:t," of ",c," entries"]})})},i=r.memo(c),s=function(n){var e=n.postsPerPage,t=n.totalPosts,r=n.paginate,c=n.handleClick,i=n.currentPage,s=n.maxPageNumberLimit,u=n.minPageNumberLimit,o=[];if(e>0)for(var l=1;l<=Math.ceil(t/e);l++)o.push(l);o.length;return u>=1&&(0,a.jsx)("button",{className:"page-link",onClick:function(){return c("previous")},children:"\u2026"}),(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("ul",{className:"pagination pagination-sm justify-content-end",children:[(0,a.jsx)("li",{className:"page-item ",children:(0,a.jsx)("button",{className:"page-link",onClick:function(){return c("previous")},disabled:i===o[0],children:"\xab"})}),o.map((function(n,e){return n<s+1&&n>u?(0,a.jsx)("li",{className:"page-item",children:(0,a.jsx)("button",{onClick:function(){return r(n)},className:"page-link ".concat(e+1===i?"active":null),children:n})},n):null})),(0,a.jsx)("li",{className:"page-item",children:(0,a.jsx)("button",{className:"page-link",onClick:function(){return c("next")},disabled:i===o[o.length-1],children:"\xbb"})})]})})},u=r.memo(s),o=function(n){var e=n.currentPage,t=n.postsPerPage,r=n.count,c=n.paginate,s=n.handleClick,o=n.setCurrentPage,l=n.minPageNumberLimit,d=n.maxPageNumberLimit;return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"row",children:[(0,a.jsx)("div",{className:"col-6",children:(0,a.jsx)(i,{offset:1+(e-1)*t,limit:t*e,count:r})}),t<r&&(0,a.jsx)("div",{className:"col-6 text-right",children:(0,a.jsx)(u,{postsPerPage:t,totalPosts:r,paginate:c,handleClick:s,currentPage:e,setCurrentPage:o,minPageNumberLimit:l,maxPageNumberLimit:d})})]})})}},537:function(n,e,t){var r=t(72791),a=t(80184),c=function(n){var e=n.postsPerPage,t=n.setPostsPerPage;return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("p",{className:"fw-normal p-0 m-0",children:["Show",(0,a.jsxs)("span",{className:"ml-1 mr-1",children:[" ",(0,a.jsxs)("select",{value:e,onChange:function(n){var e=Number(n.target.value);t(e)},children:[(0,a.jsx)("option",{value:"10",children:"10"}),(0,a.jsx)("option",{value:"20",children:"20"}),(0,a.jsx)("option",{value:"40",children:"40"}),(0,a.jsx)("option",{value:"99999999",children:"All"})]})]})," ","entries"]})})};e.Z=r.memo(c)},12721:function(n,e,t){t(72791);var r=t(84341),a=t(80184);e.Z=function(){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"row ",children:[(0,a.jsx)("div",{className:"col-6 d-flex ",children:(0,a.jsx)(r.ZP,{width:200,height:25})}),(0,a.jsx)("div",{className:"col-6 d-flex justify-content-end",children:(0,a.jsx)(r.ZP,{width:80,height:30})})]}),(0,a.jsxs)("div",{className:"mt-2",children:[(0,a.jsx)(r.ZP,{height:40}),(0,a.jsx)(r.ZP,{count:10,height:25})]}),(0,a.jsxs)("div",{className:"row d-flex mt-2",children:[(0,a.jsx)("div",{className:"col-6",children:(0,a.jsx)(r.ZP,{width:220,height:20})}),(0,a.jsx)("div",{className:"col-6 d-flex justify-content-end",children:(0,a.jsx)(r.ZP,{width:200,height:30})})]})]})}},93969:function(n,e,t){t(72791);var r=t(56355),a=t(39126),c=t(80184);e.Z=function(n){var e=n.active;return(0,c.jsx)("div",{children:e?(0,c.jsx)(r.FJM,{style:{color:"green",fontSize:"15px"}}):(0,c.jsx)(a.HJl,{style:{color:"rgba(230, 16, 16, 0.979)",fontSize:"15px"}})})}},98158:function(n,e,t){t(72791);var r=t(36652),a=t(80184);e.Z=function(n){var e=n.content,t=n.children;return(0,a.jsx)(r.ZP,{content:e,children:t})}},6791:function(n,e,t){t.r(e),t.d(e,{default:function(){return g}});var r=t(23430),a=t(72791),c=t(50645),i=t(33399),s=t(56355),u=t(93969),o=t(16030),l=t(45273),d=t(90883),h=t(81829),f=t(98158),m=t(79271),p=t(80184),x=function(n){var e=n.currentPage,t=n.postsPerPage,c=n.setCurrentPage,x=n.count,v=(n.setShowModal,n.maxPageNumberLimit),j=n.setMaxPageNumberLimit,g=n.minPageNumberLimit,b=n.setMinPageNumberLimit,N=n.search,P=(0,m.k6)(),k=(0,o.v9)((function(n){return n.auth.group})),y=(0,o.v9)((function(n){return n.auth.is_superuser})),Z=(0,o.v9)((function(n){return n.branch.branches})),C=(0,o.v9)((function(n){return n.branch.next})),w=(0,o.v9)((function(n){return n.branch.previous})),A=(0,o.I0)(),_=(0,a.useState)(5),S=(0,r.Z)(_,1)[0],M=!("ADMIN"!==k&&"MAINTAINER"!==k&&!y);return(0,p.jsx)(p.Fragment,{children:(null===Z||void 0===Z?void 0:Z.length)>0?(0,p.jsxs)("div",{className:"mt-2",children:[(0,p.jsx)("div",{className:"table-scrollable",children:(0,p.jsxs)("table",{className:"table table-hover table-bordered text-center",children:[(0,p.jsx)("thead",{children:(0,p.jsxs)("tr",{children:[(0,p.jsx)("th",{scope:"col",style:{width:"8%"},children:"S.N"}),(0,p.jsx)("th",{scope:"col",children:"Branch Name"}),(0,p.jsx)("th",{scope:"col",children:"Code"}),(0,p.jsx)("th",{scope:"col",children:"Active"}),(0,p.jsx)("th",{scope:"col",children:"Action"})]})}),(0,p.jsx)("tbody",{children:(null===Z||void 0===Z?void 0:Z.length)>0&&Z.map((function(n,r){var a=n.id,c=n.name,i=n.code,o=n.is_active;return(0,p.jsxs)("tr",{children:[(0,p.jsxs)("td",{className:"fw-bold",style:{width:"8%"},children:[t*(e-1)+(r+1)," "]}),(0,p.jsx)("td",{children:""===c?"-":c}),(0,p.jsx)("td",{children:""===i?"-":i}),(0,p.jsx)("td",{children:(0,p.jsx)(u.Z,{active:o})}),(0,p.jsx)("td",{children:(0,p.jsx)(f.Z,{content:"Edit",children:(0,p.jsx)("button",{onClick:function(){return function(n){A({type:l.k.BRANCH_EDIT_SUCCESS,payload:n}),P.push("/create-branch")}(a)},className:"btn btn-sm btn-edit btn-primary mx-2",children:(0,p.jsx)(s.fmQ,{})})})})]},a)}))})]})}),x>0&&(0,p.jsx)(d.Z,{currentPage:e,postsPerPage:t,count:x,paginate:function(n){A((0,i.pX)({number:n,postsPerPage:t})),c(n)},handleClick:function(n){"previous"===n?(A((0,i.TI)(w)),c((function(n){return n-1})),(e-1)%S===0&&(j(v-S),b(g-S))):"next"===n&&(A((0,i.hj)(C)),c((function(n){return n+1})),e+1>v&&(j(v+S),b(g+S)))},setCurrentPage:c,minPageNumberLimit:g,maxPageNumberLimit:v})]}):(0,p.jsx)(h.Z,{search:N,onClick:function(){return P.push("/create-branch")},addPermission:M})})},v=t(12721),j=t(537),g=function(){var n=(0,m.k6)(),e=((0,o.v9)((function(n){return n.auth.permissions})),(0,o.v9)((function(n){return n.auth.is_superuser})),(0,o.v9)((function(n){return n.branch.branches}))),t=(0,o.v9)((function(n){return n.branch.loading})),u=(0,o.v9)((function(n){return n.branch.loading_updated})),l=(0,o.v9)((function(n){return n.branch.count})),d=(0,o.v9)((function(n){return n.search.search})),h=(0,o.I0)(),g=(0,a.useState)(1),b=(0,r.Z)(g,2),N=b[0],P=b[1],k=(0,a.useState)(5),y=(0,r.Z)(k,2),Z=y[0],C=y[1],w=(0,a.useState)(0),A=(0,r.Z)(w,2),_=A[0],S=A[1],M=(0,a.useState)(10),L=(0,r.Z)(M,2),E=L[0],I=L[1];return(0,a.useEffect)((function(){0===E?h(""===d?(0,i.aM)(l):(0,i.o1)(d,l)):""===d?(E===c.P||P(1),h((0,i.aM)(E))):(P(1),C(5),S(0),h((0,i.o1)(d,E)))}),[h,E,d]),(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)("div",{className:"card",children:[(0,p.jsx)("div",{className:"header-content",children:(0,p.jsx)("h4",{className:"mb-sm-0 fw-normal",children:"Branch"})}),(0,p.jsxs)("div",{className:"card-body",children:[(0,p.jsx)("div",{className:"row m-0 p-0",children:(null===e||void 0===e?void 0:e.length)>0&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{className:"col-6",children:(0,p.jsx)(j.Z,{postsPerPage:E,setPostsPerPage:I})}),(0,p.jsx)("div",{className:"col-6 text-right",children:(0,p.jsx)(f.Z,{content:"Add",children:(0,p.jsxs)("button",{className:"btn btn-primary waves-effect waves-light btn-sm float-end",onClick:function(){return n.push("/create-branch")},children:[(0,p.jsx)(s.wEH,{className:"mb-1"}),"\xa0Add"]})})})]})}),t&&(0,p.jsx)(v.Z,{}),u&&(0,p.jsx)(v.Z,{}),!t&&!u&&(0,p.jsx)(x,{currentPage:N,setCurrentPage:P,postsPerPage:E,setPostsPerPage:I,count:l,maxPageNumberLimit:Z,setMaxPageNumberLimit:C,minPageNumberLimit:_,setMinPageNumberLimit:S,search:d})]})]})})}},9062:function(n,e,t){t.d(e,{Ce:function(){return d},Q1:function(){return h},Qj:function(){return u},TI:function(){return c},aM:function(){return a},hj:function(){return i},o1:function(){return l},o_:function(){return o},pX:function(){return s}});var r=t(89731),a=function(n){return r.Z.get("api/v1/core-app/branch?offset=0&limit=".concat(n,"&ordering=-id"))},c=function(n){return r.Z.get(n)},i=function(n){return r.Z.get(n)},s=function(n,e){return r.Z.get("api/v1/core-app/branch?offset=".concat((n-1)*e,"&limit=").concat(e,"&ordering=-id"))},u=function(n){return r.Z.post("api/v1/core-app/branch",n)},o=function(n,e){return r.Z.patch("api/v1/core-app/branch/".concat(n),e)},l=function(n,e){return r.Z.get("api/v1/core-app/branch?offset=0&limit=".concat(e,"&search=").concat(n))},d=function(n,e,t){return r.Z.get("api/v1/core-app/branch?short_name=".concat(t,"&name=").concat(n.target.value.trim()),{cancelToken:e.token})},h=function(n,e,t){return r.Z.get("api/v1/core-app/branch?name=".concat(t,"&short_name=").concat(n.target.value.trim()),{cancelToken:e.token})}},33399:function(n,e,t){t.d(e,{Qj:function(){return j},aM:function(){return m},hj:function(){return x},pX:function(){return v},TI:function(){return p},o1:function(){return b},o_:function(){return g}});var r=t(33032),a=t(84322),c=t.n(a),i=t(9062),s=t(45273),u=function(){return{type:s.k.LOADING_BRANCH}},o=function(n){return{type:s.k.GET_BRANCH_SUCCESS,payload:n}},l=function(n){return{type:s.k.GET_BRANCH_FAIL,payload:n}},d=function(n){return{type:s.k.CREATE_BRANCH_SUCCESS,payload:n}},h=function(n){return{type:s.k.BRANCH_UPDATE_SUCCESS,payload:n}},f=t(29801),m=function(n){return function(){var e=(0,r.Z)(c().mark((function e(t){var r,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(u()),e.next=4,i.aM(n);case 4:r=e.sent,a=r.data,t(o(a)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),t(l(e.t0)),(0,f.Mn)(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(n){return e.apply(this,arguments)}}()},p=function(n){return function(){var e=(0,r.Z)(c().mark((function e(t){var r,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(u()),e.next=4,i.TI(n);case 4:r=e.sent,a=r.data,t(o(a)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),t(l(e.t0)),(0,f.Mn)(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(n){return e.apply(this,arguments)}}()},x=function(n){return function(){var e=(0,r.Z)(c().mark((function e(t){var r,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(u()),e.next=4,i.hj(n);case 4:r=e.sent,a=r.data,t(o(a)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),t(l(e.t0)),(0,f.Mn)(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(n){return e.apply(this,arguments)}}()},v=function(n){var e=n.number,t=n.postsPerPage;return function(){var n=(0,r.Z)(c().mark((function n(r){var a,s;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r(u()),n.next=4,i.pX(e,t);case 4:a=n.sent,s=a.data,r(o(s)),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(0),r(l(n.t0)),(0,f.Mn)(n.t0);case 13:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()},j=function(n,e){var t=n.name,a=n.code,o=n.is_active;return function(){var n=(0,r.Z)(c().mark((function n(r){var l,h,m;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,l=JSON.stringify({name:t,code:a,is_active:o}),r(u()),n.next=5,i.Qj(l);case 5:h=n.sent,m=h.data,r(d(m)),(0,f.My)("Branch Added Successfully."),e.push("/branch"),n.next=16;break;case 12:n.prev=12,n.t0=n.catch(0),r((c=n.t0,{type:s.k.CREATE_BRANCH_FAIL,payload:c})),(0,f.Mn)("Failed to create branch.");case 16:case"end":return n.stop()}var c}),n,null,[[0,12]])})));return function(e){return n.apply(this,arguments)}}()},g=function(n,e,t){return function(){var a=(0,r.Z)(c().mark((function r(a){var u,o,l,d,m,p,x;return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,a({type:s.k.LOADING_UPDATED}),u=t.name,o=t.code,l=t.remarks,d=t.is_active,m=JSON.stringify({name:u,code:o,remarks:l,is_active:d}),r.next=6,i.o_(n,m);case 6:p=r.sent,x=p.data,a(h(x)),(0,f.My)("Branch Updated Successfully "),e.push("/branch"),r.next=17;break;case 13:r.prev=13,r.t0=r.catch(0),a((c=r.t0,{type:s.k.BRANCH_UPDATE_FAIL,payload:c})),(0,f.Mn)("Failed to Update Branch");case 17:case"end":return r.stop()}var c}),r,null,[[0,13]])})));return function(n){return a.apply(this,arguments)}}()},b=function(n,e){return function(){var t=(0,r.Z)(c().mark((function t(r){var a,s;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r(u()),t.next=4,i.o1(n,e);case 4:a=t.sent,s=a.data,r(o(s)),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),r(l(t.t0)),(0,f.Mn)(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(n){return t.apply(this,arguments)}}()}},50645:function(n,e,t){t.d(e,{P:function(){return r}});var r=10}}]);
//# sourceMappingURL=791.53af630d.chunk.js.map