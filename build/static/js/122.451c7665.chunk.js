"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[122],{2557:function(e,n,t){t(72791);var r=t(16587),a=t(98158),c=t(80184);n.Z=function(e){var n=e.type,t=e.className,s=e.disabled,i=e.title,o=e.loading,u=e.content,l=e.color,d=e.onClick;return(0,c.jsx)(a.Z,{content:u,children:(0,c.jsx)("button",{onClick:d,type:n,className:t,disabled:s,children:o?(0,c.jsx)(r.Z,{color:l}):i})})}},16587:function(e,n,t){t(72791);var r=t(32328),a=t(80184);n.Z=function(){return console.log("in"),(0,a.jsx)("img",{src:r,alt:"spinner",height:"30px",className:"ml-4"})}},94924:function(e,n,t){t.d(n,{Z:function(){return a}});t(72791);var r=t(80184),a=function(e){return(0,r.jsx)("div",{className:"error",children:e.children})}},98158:function(e,n,t){t(72791);var r=t(36652),a=t(80184);n.Z=function(e){var n=e.content,t=e.children;return(0,a.jsx)(r.ZP,{content:n,children:t})}},56122:function(e,n,t){t.r(n),t.d(n,{default:function(){return Z}});var r,a=t(33032),c=t(6515),s=t(23430),i=t(84322),o=t.n(i),u=t(72791),l=t(55705),d=t(56391),f=t(94924),p=t(16030),m=t(29801),v=t(33399),h=t(2557),x=t(74569),b=t.n(x),k=t(9062),g=function(){var e=(0,a.Z)(o().mark((function e(n,t){var a,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"undefined"!==typeof r&&r.cancel("Operation canceled due to new request."),r=b().CancelToken.source(),e.prev=2,e.next=5,(0,k.Ce)(n,r,t);case 5:if(a=e.sent,!((c=a.data).results.length>0)){e.next=9;break}return e.abrupt("return",!0);case 9:if(!(c.results.length<=0)){e.next=11;break}return e.abrupt("return",!1);case 11:e.next=15;break;case 13:e.prev=13,e.t0=e.catch(2);case 15:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(n,t){return e.apply(this,arguments)}}(),y=function(){var e=(0,a.Z)(o().mark((function e(n,t){var a,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"undefined"!==typeof r&&r.cancel("Operation canceled due to new request."),r=b().CancelToken.source(),e.prev=2,e.next=5,(0,k.Q1)(n,r,t);case 5:if(a=e.sent,!((c=a.data).results.length>0)){e.next=9;break}return e.abrupt("return",!0);case 9:if(!(c.results.length<=0)){e.next=11;break}return e.abrupt("return",!1);case 11:e.next=15;break;case 13:e.prev=13,e.t0=e.catch(2);case 15:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(n,t){return e.apply(this,arguments)}}(),N=t(79271),j=t(80184),Z=function(e){var n=e.currentPage,t=(0,N.k6)(),r=(0,p.v9)((function(e){return e.branch.branch})),i=(0,p.v9)((function(e){return e.branch.loading})),x=(0,p.v9)((function(e){return e.branch.edit})),b=(0,p.I0)(),k=(0,u.useState)(!1),Z=(0,s.Z)(k,2),w=Z[0],_=Z[1],C={name:x?null===r||void 0===r?void 0:r.name:"",code:x?null===r||void 0===r?void 0:r.code:"",is_active:!x||(null!==r&&void 0!==r&&r.is_active,!0),remarks:""},A=d.Ry().shape({name:d.Z_().required("Name is required.").min(1,"Name must be at least 1 characters.").max(50,"Name must be at least 50 characters."),code:d.Z_().required("Short name is required.").min(1,"Short name must be at least 1 characters.").max(5,"Short name must be at least 50 characters."),remarks:x&&d.Z_().required("Remarks is required.").min(1,"Remarks Name must be at least 1 characters."),is_active:d.Xg()}),S=function(){var e=(0,a.Z)(o().mark((function e(n,t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!x||n.target.value===(null===r||void 0===r?void 0:r.name)){e.next=6;break}if(!n.target.value.trim()||""===n.target.value){e.next=6;break}return e.next=4,g(n,t);case 4:e.sent?(0,m.Mn)("Branch with this name is already added ")||_(!0):_(!1);case 6:if(x||!n.target.value.trim()||""===n.target.value){e.next=11;break}return e.next=9,g(n,t);case 9:e.sent?(0,m.Mn)("Branch name with this  is already added. ")||_(!0):_(!1);case 11:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),B=function(){var e=(0,a.Z)(o().mark((function e(n,t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!x||n.target.value===(null===r||void 0===r?void 0:r.code)){e.next=6;break}if(!n.target.value.trim()||""===n.target.value){e.next=6;break}return e.next=4,y(n,t);case 4:e.sent?(0,m.Mn)("Branch with this name is already added ")||_(!0):_(!1);case 6:if(x||!n.target.value.trim()||""===n.target.value){e.next=11;break}return e.next=9,y(n,t);case 9:e.sent?(0,m.Mn)("Branch name with this  is already added. ")||_(!0):_(!1);case 11:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}();return(0,j.jsx)(j.Fragment,{children:(0,j.jsx)("div",{className:"row  mt-2",children:(0,j.jsx)("div",{className:"col-12 ",children:(0,j.jsx)("div",{className:"registration-process ",children:(0,j.jsx)(l.J9,{enableReinitialize:!0,initialValues:C,validationSchema:A,onSubmit:function(e){var a=e.name,s=e.code,i=(null===a||void 0===a?void 0:a.charAt(0).toUpperCase())+(null===a||void 0===a?void 0:a.slice(1)),o=s.toUpperCase();if(_(!0),x){var u=null===r||void 0===r?void 0:r.id;b((0,v.o_)(u,t,(0,c.Z)((0,c.Z)({},e),{},{name:i,code:o})))}else b((0,v.Qj)((0,c.Z)((0,c.Z)({},e),{},{name:i,code:o}),t,n));_(!1)},children:function(e){return(0,j.jsxs)(l.l0,{autoComplete:"off",children:[(0,j.jsx)("div",{className:"form-group row my-2 justify-content-center",children:(0,j.jsxs)("div",{className:"col-6",children:[(0,j.jsxs)("label",{htmlFor:"name",className:"fw-bold float-start",children:["Name",(0,j.jsx)("strong",{className:"text-danger ",children:"*"})]}),(0,j.jsx)(l.gN,{type:"text",name:"name",className:"form-control ",placeholder:"Name",onChange:function(n){e.setFieldValue("name",n.target.value),S(n,e.values.code)},autoFocus:!0}),(0,j.jsx)(l.Bc,{name:"name",component:f.Z})]})}),(0,j.jsx)("div",{className:"form-group row my-2 justify-content-center",children:(0,j.jsxs)("div",{className:"col-6",children:[(0,j.jsxs)("label",{htmlFor:"code",className:"fw-bold float-start",children:["Code",(0,j.jsx)("strong",{className:"text-danger ",children:"*"})]}),(0,j.jsx)(l.gN,{type:"text",name:"code",className:"form-control ",placeholder:"Code",onChange:function(n){e.setFieldValue("code",n.target.value),B(n,e.values.name)}}),(0,j.jsx)(l.Bc,{name:"code",component:f.Z})]})}),(0,j.jsx)("div",{className:"form-group row my-2 justify-content-center",children:x&&(0,j.jsxs)("div",{className:"col-3",children:[(0,j.jsxs)("label",{htmlFor:"remarks",className:"fw-bold",children:["Remarks",(0,j.jsx)("span",{className:"text-danger",children:"*"})]}),(0,j.jsx)("textarea",{type:"text",name:"remarks",onChange:function(n){e.setFieldValue("remarks",n.target.value.trim())},className:"form-control",placeholder:"Enter remarks"}),(0,j.jsx)(l.Bc,{name:"remarks",component:f.Z})]})}),(0,j.jsx)("div",{className:"form-group row my-2 justify-content-center",children:(0,j.jsxs)("div",{className:"col-12 text-center",children:[(0,j.jsx)(l.gN,{type:"checkbox",name:"is_active",id:"is_active",className:"filled-in chk-col-blue"}),(0,j.jsx)("label",{htmlFor:"is_active",className:"fw-bold mx-2",children:"Active"})]})}),(0,j.jsx)("div",{className:"form-group text-center",children:x?(0,j.jsx)(h.Z,{type:"btn",className:"btn btn-primary ",loading:i,disabled:w,title:"Update",content:"Update"}):(0,j.jsx)(h.Z,{type:"btn",className:"btn btn-primary",loading:i,disabled:w||!e.dirty,title:"Create",content:"Add"})})]})}})})})})})}},9062:function(e,n,t){t.d(n,{Ce:function(){return d},Q1:function(){return f},Qj:function(){return o},TI:function(){return c},aM:function(){return a},hj:function(){return s},o1:function(){return l},o_:function(){return u},pX:function(){return i}});var r=t(89731),a=function(e){return r.Z.get("api/v1/core-app/branch?offset=0&limit=".concat(e,"&ordering=-id"))},c=function(e){return r.Z.get(e)},s=function(e){return r.Z.get(e)},i=function(e,n){return r.Z.get("api/v1/core-app/branch?offset=".concat((e-1)*n,"&limit=").concat(n,"&ordering=-id"))},o=function(e){return r.Z.post("api/v1/core-app/branch",e)},u=function(e,n){return r.Z.patch("api/v1/core-app/branch/".concat(e),n)},l=function(e,n){return r.Z.get("api/v1/core-app/branch?offset=0&limit=".concat(n,"&search=").concat(e))},d=function(e,n,t){return r.Z.get("api/v1/core-app/branch?short_name=".concat(t,"&name=").concat(e.target.value.trim()),{cancelToken:n.token})},f=function(e,n,t){return r.Z.get("api/v1/core-app/branch?name=".concat(t,"&short_name=").concat(e.target.value.trim()),{cancelToken:n.token})}},33399:function(e,n,t){t.d(n,{Qj:function(){return b},aM:function(){return m},hj:function(){return h},pX:function(){return x},TI:function(){return v},o1:function(){return g},o_:function(){return k}});var r=t(33032),a=t(84322),c=t.n(a),s=t(9062),i=t(45273),o=function(){return{type:i.k.LOADING_BRANCH}},u=function(e){return{type:i.k.GET_BRANCH_SUCCESS,payload:e}},l=function(e){return{type:i.k.GET_BRANCH_FAIL,payload:e}},d=function(e){return{type:i.k.CREATE_BRANCH_SUCCESS,payload:e}},f=function(e){return{type:i.k.BRANCH_UPDATE_SUCCESS,payload:e}},p=t(29801),m=function(e){return function(){var n=(0,r.Z)(c().mark((function n(t){var r,a;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t(o()),n.next=4,s.aM(e);case 4:r=n.sent,a=r.data,t(u(a)),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(0),t(l(n.t0)),(0,p.Mn)(n.t0);case 13:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()},v=function(e){return function(){var n=(0,r.Z)(c().mark((function n(t){var r,a;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t(o()),n.next=4,s.TI(e);case 4:r=n.sent,a=r.data,t(u(a)),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(0),t(l(n.t0)),(0,p.Mn)(n.t0);case 13:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()},h=function(e){return function(){var n=(0,r.Z)(c().mark((function n(t){var r,a;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t(o()),n.next=4,s.hj(e);case 4:r=n.sent,a=r.data,t(u(a)),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(0),t(l(n.t0)),(0,p.Mn)(n.t0);case 13:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()},x=function(e){var n=e.number,t=e.postsPerPage;return function(){var e=(0,r.Z)(c().mark((function e(r){var a,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r(o()),e.next=4,s.pX(n,t);case 4:a=e.sent,i=a.data,r(u(i)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),r(l(e.t0)),(0,p.Mn)(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(n){return e.apply(this,arguments)}}()},b=function(e,n){var t=e.name,a=e.code,u=e.is_active;return function(){var e=(0,r.Z)(c().mark((function e(r){var l,f,m;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l=JSON.stringify({name:t,code:a,is_active:u}),r(o()),e.next=5,s.Qj(l);case 5:f=e.sent,m=f.data,r(d(m)),(0,p.My)("Branch Added Successfully."),n.push("/branch"),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),r((c=e.t0,{type:i.k.CREATE_BRANCH_FAIL,payload:c})),(0,p.Mn)("Failed to create branch.");case 16:case"end":return e.stop()}var c}),e,null,[[0,12]])})));return function(n){return e.apply(this,arguments)}}()},k=function(e,n,t){return function(){var a=(0,r.Z)(c().mark((function r(a){var o,u,l,d,m,v,h;return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,a({type:i.k.LOADING_UPDATED}),o=t.name,u=t.code,l=t.remarks,d=t.is_active,m=JSON.stringify({name:o,code:u,remarks:l,is_active:d}),r.next=6,s.o_(e,m);case 6:v=r.sent,h=v.data,a(f(h)),(0,p.My)("Branch Updated Successfully "),n.push("/branch"),r.next=17;break;case 13:r.prev=13,r.t0=r.catch(0),a((c=r.t0,{type:i.k.BRANCH_UPDATE_FAIL,payload:c})),(0,p.Mn)("Failed to Update Branch");case 17:case"end":return r.stop()}var c}),r,null,[[0,13]])})));return function(e){return a.apply(this,arguments)}}()},g=function(e,n){return function(){var t=(0,r.Z)(c().mark((function t(r){var a,i;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r(o()),t.next=4,s.o1(e,n);case 4:a=t.sent,i=a.data,r(u(i)),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),r(l(t.t0)),(0,p.Mn)(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}},32328:function(e,n,t){e.exports=t.p+"static/media/spinner.9012f56ae4662e1be3c6.gif"}}]);
//# sourceMappingURL=122.451c7665.chunk.js.map